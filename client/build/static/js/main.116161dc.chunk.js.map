{"version":3,"sources":["components/Table/index.js","components/SaleReportTable/columns.js","components/SaleReportTable/index.js","components/Cards/SaleReport/index.js","components/Cards/GroupSales/index.js","components/DatePicker/index.js","api/invoice/index.js","pages/ventas/index.js","components/ClientReportTable/columns.js","components/ClientReportTable/index.js","components/Cards/ClientReport/index.js","components/SearchInput/index.js","api/products/index.js","components/ProductSearch/index.js","components/ClientPerProduct/Table/columns.js","components/ClientPerProduct/Table/index.js","api/clients/index.js","components/ClientPerProduct/Card/index.js","components/ClientSearch/index.js","components/MonthlyAverageClient/Card/index.js","pages/clientes/index.js","components/Cards/CostFluctuation/index.js","api/groups/index.js","components/GroupSearch/index.js","components/PriceListTable/columns.js","components/PriceListTable/index.js","components/PDF/PriceList/index.js","components/Cards/GroupStock/index.js","hooks/useReportFilter.js","components/ProductCostPerGroup/Card/index.js","pages/productos/index.js","App.js","index.js"],"names":["Table","data","loading","columns","filterPlaceholder","onFilter","maxheight","showFooter","onRowSelect","useTable","stateReducer","newState","action","type","selectedRowIds","id","isSelected","useRowSelect","getTableProps","getTableBodyProps","headerGroups","footerGroups","rows","prepareRow","onFilterDebounced","selectedFlatRows","debounce","value","className","onChange","event","target","placeholder","autoFocus","map","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","render","row","getRowProps","onClick","toggleRowSelected","getToggleRowSelectedProps","cells","cell","index","title","getCellProps","style","background","group","getFooterGroupProps","getFooterProps","length","Header","accessor","Footer","total","reduce","acc","current","quantity","Number","toFixed","Cell","toLocaleString","rawProfit","netProfit","SaleReportTable","memoizedColumns","useMemo","SaleReportCard","useState","sorting","setSorting","sortedData","setSortedData","useEffect","sorted","sort","a","b","marginRight","GroupSales","chartData","console","log","margin","top","right","bottom","left","innerRadius","padAngle","cornerRadius","activeOuterRadiusOffset","arcLabel","e","borderWidth","arcLinkLabelsSkipAngle","arcLinkLabelsTextColor","arcLinkLabelsThickness","arcLinkLabelsColor","from","arcLabelsSkipAngle","arcLabelsTextColor","modifiers","tooltip","datum","color","label","DatePicker","onSubmit","DateTime","now","toISODate","to","dateRange","setDateRange","fetchInvoiceReport","fetch","response","json","report","VentasPage","filtered_invoices_report","invoices_report","group_sales_chart","setData","searchTerm","filteredData","filter","f","product","toLowerCase","includes","preventDefault","group_sales_chart_data","categoria","sales_report","Container","fluid","SaleReport","ClientReportTable","ClientReportCard","SearchInput","loadOptions","defaultOptions","cacheOptions","onSelect","inputValue","callback","loadingMessage","isClearable","BASE_URL","fetchProducts","filterParam","products","fetchCostFluctuation","productId","fetchCostPerGroup","fetchProductsByGroup","fetchProductPriceList","groupId","ProductSearch","loadProductVariants","records","record","product_name","Descripcion","key","option","ClientPerProductTable","fetchClients","clients","fetchBestClients","fetchBestClientsPerProduct","fetchMonthlyAverage","clientId","ClientPerProductCard","selectedProduct","setSelectedProduct","fetch_best_clients","IdProducto","report_data","display","flexDirection","gap","fromISO","flex","justifyContent","width","ClientSearch","loadClients","IdCliente","name","MonthlyAverageClient","selectedClient","setSelectedClient","fetch_monthly_average","xScale","yScale","min","max","stacked","reverse","axisTop","axisRight","pointSize","pointColor","theme","pointBorderWidth","pointBorderColor","pointLabelYOffset","useMesh","ClientesPage","filtered_best_clients","best_clients","client","ClientReport","CostFluctuation","fetch_product_report","fetchGroups","groups","GroupSearch","loadGroups","PriceListTable","PriceListPDF","stock","price","doc","jsPDF","pdfName","Date","toISOString","replaceAll","setProperties","GroupStock","selectedGroup","setSelectedGroup","data_to_filter","initial_state","setFilteredData","filterValue","filterKey","nestedKey","nestedFilter","filtered","r","useReportFilter","inputRef","useRef","printPDF","setPrintPDF","fetch_stock_by_group","fetch_product_data","div","document","createElement","setFontSize","text","align","Object","keys","innerHTML","renderToStaticMarkup","PriceList","autoTable","html","firstChild","styles","cellPadding","didParseCell","section","raw","nodeName","fillColor","cellWidth","addPage","save","ref","ProductCostPerGroupCard","group_name","total_cost","valueFormat","ProductosPage","App","activeLink","setActiveLink","Navbar","bg","variant","Brand","Nav","tagName","href","path","component","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.116161dc.chunk.js","sourcesContent":["import { useTable, useRowSelect } from \"react-table\";\r\n\r\nimport debounce from \"lodash.debounce\";\r\n\r\nconst Table = ({\r\n  data = [],\r\n  loading,\r\n  columns = [],\r\n  filterPlaceholder,\r\n  onFilter,\r\n  maxheight,\r\n  showFooter = false,\r\n  onRowSelect,\r\n}) => {\r\n  const { getTableProps, getTableBodyProps, headerGroups, footerGroups, rows, prepareRow, selectedFlatRows } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      stateReducer: (newState, action) => {\r\n        if (action.type === \"toggleRowSelected\") {\r\n          newState.selectedRowIds = {\r\n            [action.id]: !action.isSelected,\r\n          };\r\n        }\r\n\r\n        return newState;\r\n      },\r\n    },\r\n    useRowSelect\r\n  );\r\n\r\n  const onFilterDebounced = debounce((value) => {\r\n    onFilter(value);\r\n  }, 500);\r\n\r\n  return (\r\n    <>\r\n      {onFilter && (\r\n        <div className=\"table-filter-container\">\r\n          <input\r\n            className=\"table-filter-input\"\r\n            onChange={(event) => onFilterDebounced(event.target.value)}\r\n            placeholder={filterPlaceholder}\r\n            autoFocus\r\n          />\r\n        </div>\r\n      )}\r\n      <div className=\"table-container\" maxheight={maxheight}>\r\n        <table {...getTableProps()}>\r\n          <thead>\r\n            {headerGroups.map((headerGroup) => (\r\n              <tr {...headerGroup.getHeaderGroupProps()}>\r\n                {headerGroup.headers.map((column) => (\r\n                  <th {...column.getHeaderProps()}>{column.render(\"Header\")}</th>\r\n                ))}\r\n              </tr>\r\n            ))}\r\n          </thead>\r\n          <tbody {...getTableBodyProps()}>\r\n            {rows.map((row) => {\r\n              prepareRow(row);\r\n              return (\r\n                <tr\r\n                  {...row.getRowProps({\r\n                    onClick: onRowSelect\r\n                      ? () => {\r\n                          row.toggleRowSelected();\r\n                          onRowSelect();\r\n                        }\r\n                      : null,\r\n                  })}\r\n                  {...row.getToggleRowSelectedProps({})}\r\n                >\r\n                  {row.cells.map((cell, index) => {\r\n                    return (\r\n                      <td\r\n                        title={cell.value}\r\n                        {...cell.getCellProps()}\r\n                        style={{\r\n                          background: row.isSelected ? \"lightgreen\" : \"white\",\r\n                        }}\r\n                      >\r\n                        {cell.render(\"Cell\")}\r\n                      </td>\r\n                    );\r\n                  })}\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n          {showFooter && (\r\n            <tfoot>\r\n              {footerGroups.map((group) => (\r\n                <tr {...group.getFooterGroupProps()}>\r\n                  {group.headers.map((column) => (\r\n                    <td {...column.getFooterProps()}>{column.render(\"Footer\")}</td>\r\n                  ))}\r\n                </tr>\r\n              ))}\r\n            </tfoot>\r\n          )}\r\n        </table>\r\n      </div>\r\n      {loading && (\r\n        <div className=\"loading-container\" data={data.length ? 1 : 0}>\r\n          Cargando...\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","const columns = [\r\n  {\r\n    Header: \"Producto\",\r\n    accessor: \"product\",\r\n  },\r\n  {\r\n    Header: \"Cantidad\",\r\n    accessor: \"quantity\",\r\n    Footer: ({ data }) => {\r\n      const total = data.reduce((acc, current) => {\r\n        return acc + current.quantity;\r\n      }, 0);\r\n      return Number(total).toFixed(2);\r\n    },\r\n  },\r\n  {\r\n    Header: \"Bruto\",\r\n    accessor: \"rawProfit\",\r\n    Cell: ({ value }) => {\r\n      return value ? \"$\" + value.toLocaleString() : \"\";\r\n    },\r\n    Footer: ({ data }) => {\r\n      const total = data.reduce((acc, current) => {\r\n        return acc + current.rawProfit;\r\n      }, 0);\r\n      return \"$\" + Number(total.toFixed(2)).toLocaleString();\r\n    },\r\n  },\r\n  {\r\n    Header: \"Utilidad\",\r\n    accessor: \"netProfit\",\r\n    Cell: ({ value }) => {\r\n      return value ? \"$\" + value.toLocaleString() : \"\";\r\n    },\r\n    Footer: ({ data }) => {\r\n      const total = data.reduce((acc, current) => {\r\n        return acc + current.netProfit;\r\n      }, 0);\r\n      return \"$\" + Number(total.toFixed(2)).toLocaleString();\r\n    },\r\n  },\r\n  {\r\n    Header: \"Promedio\",\r\n    accessor: \"averageProfitPercent\",\r\n    Cell: ({ value }) => {\r\n      return value + \"%\";\r\n    },\r\n  },\r\n];\r\n\r\nexport default columns;\r\n","import { useMemo } from \"react\";\r\nimport Table from \"../Table\";\r\nimport columns from \"./columns\";\r\n\r\nconst SaleReportTable = ({ data }) => {\r\n  const memoizedColumns = useMemo(() => columns);\r\n\r\n  return <Table data={data} columns={memoizedColumns} showFooter />;\r\n};\r\n\r\nexport default SaleReportTable;\r\n","import { useEffect, useState } from \"react\";\r\nimport SaleReportTable from \"../../SaleReportTable\";\r\n\r\nconst SaleReportCard = ({ data = [], onFilter }) => {\r\n  const [sorting, setSorting] = useState(\"rawProfit\");\r\n  const [sortedData, setSortedData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const sorted = data.sort((a, b) => {\r\n      return b[sorting] - a[sorting];\r\n    });\r\n    setSortedData([...sorted]);\r\n  }, [sorting, data]);\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-header\">\r\n        <h3>Ventas</h3>\r\n        <div>\r\n          <label style={{ marginRight: \"5px\" }}>Ordenar:</label>\r\n          <select\r\n            onChange={(event) => setSorting(event.target.value)}\r\n            value={sorting}\r\n          >\r\n            <option value=\"quantity\">Cantidad</option>\r\n            <option value=\"rawProfit\">Bruto</option>\r\n            <option value=\"netProfit\">Utilidad</option>\r\n            <option value=\"averageProfitPercent\">Promedio</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        {sortedData.length > 0 && (\r\n          <>\r\n            <input\r\n              className=\"input-filter\"\r\n              placeholder=\"Buscar...\"\r\n              type=\"search\"\r\n              onChange={(event) => onFilter(event.target.value)}\r\n            />\r\n            <div className=\"table-container\">\r\n              <SaleReportTable data={sortedData} />\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SaleReportCard;\r\n","import { ResponsivePie } from \"@nivo/pie\";\n\nconst GroupSales = ({ chartData = [] }) => {\n  console.log(chartData);\n  return (\n    <div className=\"card\">\n      <div className=\"card-header\">\n        <h3>Gráfico de categorías</h3>\n      </div>\n      <div className=\"card-body\">\n        {chartData.length > 0 && (\n          <ResponsivePie\n            data={chartData}\n            margin={{ top: 30, right: 20, bottom: 20, left: 20 }}\n            innerRadius={0.5}\n            padAngle={0.7}\n            cornerRadius={3}\n            activeOuterRadiusOffset={8}\n            arcLabel={function (e) {\n              return `${e.value} (${e.data.netProfit})`;\n            }}\n            borderWidth={1}\n            arcLinkLabelsSkipAngle={10}\n            arcLinkLabelsTextColor=\"#333333\"\n            arcLinkLabelsThickness={2}\n            arcLinkLabelsColor={{ from: \"color\" }}\n            arcLabelsSkipAngle={10}\n            arcLabelsTextColor={{\n              from: \"color\",\n              modifiers: [[\"darker\", 2]],\n            }}\n            tooltip={({ datum }) => {\n              return (\n                <div className=\"tooltip-container\">\n                  <span className=\"small-square\" style={{ background: datum.color }}></span>\n                  <strong>{datum.label}</strong>\n                  <label>Bruto: </label>\n                  <span>${Number(datum.value).toLocaleString()}</span>\n                  <label>Utilidad: </label>\n                  <span>${Number(datum.data.netProfit).toLocaleString()}</span>\n                </div>\n              );\n            }}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default GroupSales;\n","import { useState } from \"react\";\nimport { DateTime } from \"luxon\";\n\nconst DatePicker = ({ onSubmit }) => {\n  const [dateRange, setDateRange] = useState({\n    from: DateTime.now().toISODate(),\n    to: DateTime.now().toISODate(),\n  });\n\n  return (\n    <div id=\"date-range-wrapper\">\n      <div id=\"date-range-container\">\n        <label>Desde:</label>\n        <input\n          type=\"date\"\n          value={dateRange.from}\n          onChange={(event) =>\n            setDateRange({ ...dateRange, from: event.target.value })\n          }\n        />\n        <label>Hasta:</label>\n        <input\n          type=\"date\"\n          value={dateRange.to}\n          onChange={(event) =>\n            setDateRange({ ...dateRange, to: event.target.value })\n          }\n        />\n        <input type=\"submit\" onClick={(event) => onSubmit(event, dateRange)} />\n      </div>\n    </div>\n  );\n};\n\nexport default DatePicker;\n","const BASE_URL = \"/api/invoices\";\r\n\r\nexport const fetchInvoiceReport = async ({ from, to }) => {\r\n  const response = await fetch(`${BASE_URL}/sales?from=${from}&to=${to}`);\r\n  const report = await response.json();\r\n  console.log(\"From fetchInvoiceReport: \", report);\r\n  return report;\r\n};\r\n","import { useState } from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport SaleReportCard from \"../../components/Cards/SaleReport\";\nimport GroupSales from \"../../components/Cards/GroupSales\";\nimport DatePicker from \"../../components/DatePicker\";\nimport { fetchInvoiceReport } from \"../../api/invoice\";\nimport debounce from \"lodash.debounce\";\n\nconst VentasPage = () => {\n  const [data, setData] = useState({\n    filtered_invoices_report: [],\n    invoices_report: [],\n    group_sales_chart: [],\n  });\n\n  const onFilter = debounce((searchTerm) => {\n    const filteredData = data.invoices_report.filter((f) => f.product.toLowerCase().includes(searchTerm.toLowerCase()));\n    setData({ ...data, filtered_invoices_report: filteredData });\n  }, 500);\n\n  const onSubmit = async (event, dateRange) => {\n    event.preventDefault();\n\n    const response = await fetchInvoiceReport(dateRange);\n    const chartData = response.group_sales_chart_data.reduce(\n      (acc, current) => [\n        ...acc,\n        { id: current.categoria, label: current.categoria, value: current.rawProfit, netProfit: current.netProfit },\n      ],\n      []\n    );\n    setData({ ...data, invoices_report: response.sales_report, group_sales_chart: chartData });\n  };\n\n  return (\n    <Container fluid className=\"bg-dark px-5 pt-3 pb-5\">\n      <div className=\"\">\n        <DatePicker onSubmit={onSubmit} />\n      </div>\n      <div className=\"d-flex flex-column flex-xl-row content-center gap-3\">\n        <div className=\"col-12 col-xl-6\">\n          <SaleReportCard\n            data={data.filtered_invoices_report.length > 0 ? data.filtered_invoices_report : data.invoices_report}\n            onFilter={onFilter}\n          />\n        </div>\n        <div className=\"col-12 col-xl-6\">\n          <GroupSales chartData={data.group_sales_chart} />\n        </div>\n      </div>\n    </Container>\n  );\n};\n\nexport default VentasPage;\n","const columns = [\r\n  {\r\n    Header: 'Cliente',\r\n    accessor: 'client',\r\n  },\r\n  {\r\n    Header: 'Total',\r\n    accessor: 'total_USD',\r\n    Cell: ({ value }) => {\r\n      return '$' + value.toLocaleString();\r\n    },\r\n  },\r\n];\r\n\r\nexport default columns;\r\n","import { useMemo } from 'react';\r\nimport Table from '../Table';\r\nimport columns from './columns';\r\n\r\nconst ClientReportTable = ({ data }) => {\r\n  const memoizedColumns = useMemo(() => columns);\r\n\r\n  return <Table data={data} columns={memoizedColumns} />;\r\n};\r\n\r\nexport default ClientReportTable;\r\n","import ClientReportTable from \"../../ClientReportTable\";\r\n\r\nconst ClientReportCard = ({ data = [], onFilter }) => {\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-header\">\r\n        <h3>Mejores clientes</h3>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        {data.length > 0 && (\r\n          <>\r\n            <input\r\n              className=\"input-filter\"\r\n              placeholder=\"Buscar...\"\r\n              type=\"search\"\r\n              onChange={(event) => onFilter(event.target.value, \"client\", \"client_report\")}\r\n            />\r\n            <ClientReportTable data={data} />\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClientReportCard;\r\n","import AsyncSelect from 'react-select/async';\r\nimport debounce from 'debounce-promise';\r\n\r\nconst SearchInput = ({ placeholder, loadOptions, defaultOptions = true, cacheOptions = true, onSelect }) => {\r\n  return (\r\n    <AsyncSelect\r\n      loadOptions={debounce((inputValue, callback) => loadOptions(inputValue, callback), 700)}\r\n      cacheOptions={cacheOptions}\r\n      defaultOptions={defaultOptions}\r\n      placeholder={placeholder}\r\n      onChange={onSelect}\r\n      loadingMessage={() => {\r\n        return 'Cargando...';\r\n      }}\r\n      isClearable\r\n    />\r\n  );\r\n};\r\n\r\nexport default SearchInput;\r\n","const BASE_URL = \"/api/products\";\r\nconst REPORTS_BASE_URL = \"/api/reports/products\";\r\n\r\nexport const fetchProducts = async ({ filter }) => {\r\n  const filterParam = filter ? `?filter=${filter}` : \"\";\r\n  const response = await fetch(BASE_URL + filterParam);\r\n  const products = await response.json();\r\n  return products;\r\n};\r\n\r\nexport const fetchCostFluctuation = async (productId) => {\r\n  const response = await fetch(`${BASE_URL}/cost-fluctuation/${productId}`);\r\n  const report = await response.json();\r\n  return report;\r\n};\r\n\r\nexport const fetchCostPerGroup = async () => {\r\n  const response = await fetch(`${BASE_URL}/cost/group`);\r\n  const report = await response.json();\r\n  return report;\r\n};\r\n\r\nexport const fetchProductsByGroup = async () => {\r\n  const response = await fetch(`${BASE_URL}/group`);\r\n  const products = await response.json();\r\n  return products;\r\n};\r\n\r\nexport const fetchProductPriceList = async (groupId) => {\r\n  const response = await fetch(`${BASE_URL}/price-list/${groupId}`);\r\n  const report = response.json();\r\n  return report;\r\n};\r\n\r\nexport const fetchProductReports = async (productId) => {\r\n  const response = await fetch(`${REPORTS_BASE_URL}/cost-fluctuation/${productId}`);\r\n  const report = response.json();\r\n  return report;\r\n};\r\n\r\nexport const fetchBestClients = async (productId, dateRange) => {\r\n  const response = await fetch(\r\n    `${REPORTS_BASE_URL}/best-clients/${productId}?from=${dateRange.from}&to=${dateRange.to}`\r\n  );\r\n  const report = response.json();\r\n  return report;\r\n};\r\n","import SearchInput from \"../SearchInput\";\r\nimport { fetchProducts } from \"../../api/products\";\r\n\r\nconst ProductSearch = ({ onSelect }) => {\r\n  const loadProductVariants = async (inputValue) => {\r\n    let products = await fetchProducts({ filter: inputValue });\r\n\r\n    if (products && products.length > 0) {\r\n      const records = products.map((record) => {\r\n        let product_name = record.Descripcion;\r\n\r\n        const product = {\r\n          key: record.id,\r\n          label: product_name,\r\n          value: record,\r\n        };\r\n        return product;\r\n      });\r\n\r\n      return records;\r\n    }\r\n  };\r\n\r\n  const handleSelect = (option, { action }) => {\r\n    if (action === \"select-option\") {\r\n      onSelect(option.value, action);\r\n    } else if (action === \"clear\") {\r\n      onSelect(null, action);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <SearchInput\r\n      loadOptions={loadProductVariants}\r\n      defaultOptions={false}\r\n      placeholder=\"Buscar producto...\"\r\n      onSelect={handleSelect}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ProductSearch;\r\n","const columns = [\r\n  {\r\n    Header: 'Cliente',\r\n    accessor: 'client',\r\n  },\r\n  {\r\n    Header: 'Cantidad',\r\n    accessor: 'quantity_total',\r\n  },\r\n  {\r\n    Header: 'Total',\r\n    accessor: 'total_USD',\r\n    Cell: ({ value }) => {\r\n      return value ? '$' + value.toLocaleString() : '';\r\n    },\r\n  },\r\n  {\r\n    Header: 'Utilidad',\r\n    accessor: 'utilidad',\r\n    Cell: ({ value }) => {\r\n      return value ? '$' + value.toLocaleString() : 0;\r\n    },\r\n  },\r\n];\r\n\r\nexport default columns;\r\n","import { useMemo } from \"react\";\r\nimport Table from \"../../Table\";\r\nimport columns from \"./columns\";\r\n\r\nconst ClientPerProductTable = ({ data }) => {\r\n  const memoizedColumns = useMemo(() => columns);\r\n\r\n  return <Table data={data} columns={memoizedColumns} />;\r\n};\r\n\r\nexport default ClientPerProductTable;\r\n","const BASE_URL = \"/api/clients\";\n\nexport const fetchClients = async ({ filter }) => {\n  const filterParam = filter ? `?filter=${filter}` : \"\";\n  const response = await fetch(`${BASE_URL}${filterParam}`);\n  const clients = response.json();\n  return clients;\n};\nexport const fetchBestClients = async (dateRange) => {\n  const response = await fetch(`${BASE_URL}/best/?from=${dateRange.from}&to=${dateRange.to}`);\n  const report = response.json();\n  return report;\n};\n\nexport const fetchBestClientsPerProduct = async (productId, dateRange) => {\n  const response = await fetch(`${BASE_URL}/best/product/${productId}?from=${dateRange.from}&to=${dateRange.to}`);\n  const report = response.json();\n  return report;\n};\n\nexport const fetchMonthlyAverage = async (clientId) => {\n  const response = await fetch(`${BASE_URL}/average/month/${clientId}`);\n  const report = response.json();\n  return report;\n};\n","import { useState, useEffect } from \"react\";\r\nimport ProductSearch from \"../../ProductSearch\";\r\nimport ClientPerProductTable from \"../Table\";\r\nimport { fetchBestClientsPerProduct } from \"../../../api/clients\";\r\nimport { DateTime } from \"luxon\";\r\n\r\nconst ClientPerProductCard = ({ dateRange }) => {\r\n  const [selectedProduct, setSelectedProduct] = useState(null);\r\n  const [data, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (selectedProduct && dateRange.from && dateRange.to) {\r\n      const fetch_best_clients = async () => {\r\n        const report_data = await fetchBestClientsPerProduct(selectedProduct.IdProducto, dateRange);\r\n        setData(report_data);\r\n      };\r\n\r\n      fetch_best_clients();\r\n    } else if (!selectedProduct) {\r\n      setData([]);\r\n    }\r\n  }, [selectedProduct, dateRange]);\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-header\">\r\n        <h3>Cliente por producto</h3>\r\n        <div style={{ display: \"flex\", flexDirection: \"row\", gap: \"5px\" }}>\r\n          <label>Desde: </label>\r\n          <strong>{DateTime.fromISO(dateRange.from).toLocaleString()} </strong>\r\n          <label>Hasta: </label>\r\n          <strong>{DateTime.fromISO(dateRange.to).toLocaleString()} </strong>\r\n        </div>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flex: \"1\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <div style={{ width: \"100%\" }}>\r\n            <ProductSearch onSelect={setSelectedProduct} />\r\n          </div>\r\n        </div>\r\n        {data.length > 0 && <ClientPerProductTable data={data} />}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClientPerProductCard;\r\n","import SearchInput from \"../SearchInput\";\nimport { fetchClients } from \"../../api/clients\";\n\nconst ClientSearch = ({ onSelect }) => {\n  const loadClients = async (inputValue) => {\n    let clients = await fetchClients({ filter: inputValue });\n\n    if (clients && clients.length > 0) {\n      const records = clients.map((record) => {\n        const client = {\n          key: record.IdCliente,\n          label: record.name,\n          value: record,\n        };\n        return client;\n      });\n\n      return records;\n    }\n  };\n\n  const handleSelect = (option, { action }) => {\n    if (action === \"select-option\") {\n      onSelect && onSelect(option.value, action);\n    } else if (action === \"clear\") {\n      onSelect && onSelect(null, action);\n    }\n  };\n\n  return (\n    <SearchInput\n      loadOptions={loadClients}\n      defaultOptions={false}\n      placeholder=\"Buscar cliente...\"\n      onSelect={handleSelect}\n    />\n  );\n};\n\nexport default ClientSearch;\n","import { useState, useEffect } from \"react\";\nimport { fetchMonthlyAverage } from \"../../../api/clients\";\nimport ClientSearch from \"../../ClientSearch\";\nimport { ResponsiveLine } from \"@nivo/line\";\n\nconst MonthlyAverageClient = () => {\n  const [selectedClient, setSelectedClient] = useState(null);\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    if (selectedClient) {\n      const fetch_monthly_average = async () => {\n        const response = await fetchMonthlyAverage(selectedClient.IdCliente);\n        setData([response]);\n      };\n\n      fetch_monthly_average();\n    } else {\n      setData([]);\n    }\n  }, [selectedClient]);\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-header\">\n        <h3>Promedio mensual</h3>\n      </div>\n      <div className=\"card-body\">\n        <ClientSearch onSelect={setSelectedClient} />\n        {data && (\n          <ResponsiveLine\n            data={data}\n            margin={{ top: 20, right: 30, bottom: 80, left: 40 }}\n            xScale={{ type: \"point\" }}\n            yScale={{\n              type: \"linear\",\n              min: \"auto\",\n              max: \"auto\",\n              stacked: true,\n              reverse: false,\n            }}\n            axisTop={null}\n            axisRight={null}\n            pointSize={10}\n            pointColor={{ theme: \"background\" }}\n            pointBorderWidth={2}\n            pointBorderColor={{ from: \"serieColor\" }}\n            pointLabelYOffset={-12}\n            useMesh={true}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default MonthlyAverageClient;\n","import { useState } from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport ClientReportCard from \"../../components/Cards/ClientReport\";\nimport ClientPerProductCard from \"../../components/ClientPerProduct/Card\";\nimport MonthlyAverageClientCard from \"../../components/MonthlyAverageClient/Card\";\nimport DatePicker from \"../../components/DatePicker\";\nimport { fetchBestClients } from \"../../api/clients\";\nimport { DateTime } from \"luxon\";\nimport debounce from \"lodash.debounce\";\n\nconst ClientesPage = () => {\n  const [data, setData] = useState({\n    filtered_best_clients: [],\n    best_clients: [],\n    group_sales_chart: [],\n  });\n  const [dateRange, setDateRange] = useState({\n    from: DateTime.now().toISODate(),\n    to: DateTime.now().toISODate(),\n  });\n\n  const onFilter = debounce((searchTerm) => {\n    const filteredData = data.best_clients.filter((f) => f.client.toLowerCase().includes(searchTerm.toLowerCase()));\n    setData({ ...data, filtered_best_clients: filteredData });\n  }, 500);\n\n  const onSubmit = async (event, dateRange) => {\n    event.preventDefault();\n\n    const response = await fetchBestClients(dateRange);\n    setDateRange(dateRange);\n    setData({ ...data, best_clients: response });\n  };\n\n  return (\n    <Container fluid className=\"px-5 pt-3 pb-5\">\n      <div className=\"\">\n        <DatePicker onSubmit={onSubmit} />\n      </div>\n      <div className=\"d-flex flex-column flex-xl-row content-center gap-3\">\n        <div className=\"col-12 col-xl-4\">\n          <ClientReportCard\n            data={data.filtered_best_clients.length > 0 ? data.filtered_best_clients : data.best_clients}\n            onFilter={onFilter}\n          />\n        </div>\n        <div className=\"col-12 col-xl-4\">\n          <ClientPerProductCard dateRange={dateRange} />\n        </div>\n        <div className=\"col-12 col-xl-4\">\n          <MonthlyAverageClientCard />\n        </div>\n      </div>\n    </Container>\n  );\n};\n\nexport default ClientesPage;\n","import { useState, useEffect } from \"react\";\r\nimport ProductSearch from \"../../ProductSearch\";\r\nimport { ResponsiveLine } from \"@nivo/line\";\r\nimport { fetchCostFluctuation } from \"../../../api/products\";\r\n\r\nconst CostFluctuation = () => {\r\n  const [selectedProduct, setSelectedProduct] = useState(null);\r\n  const [data, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (selectedProduct) {\r\n      const fetch_product_report = async () => {\r\n        const report_data = await fetchCostFluctuation(selectedProduct.IdProducto);\r\n        setData([report_data]);\r\n      };\r\n\r\n      fetch_product_report();\r\n    } else if (!selectedProduct) {\r\n      setData([]);\r\n    }\r\n  }, [selectedProduct]);\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-header\">\r\n        <h2>Promedio mensual costo</h2>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <ProductSearch onSelect={setSelectedProduct} />\r\n        <ResponsiveLine\r\n          data={data}\r\n          margin={{ top: 20, right: 30, bottom: 80, left: 40 }}\r\n          xScale={{ type: \"point\" }}\r\n          yScale={{\r\n            type: \"linear\",\r\n            min: \"auto\",\r\n            max: \"auto\",\r\n            stacked: true,\r\n            reverse: false,\r\n          }}\r\n          axisTop={null}\r\n          axisRight={null}\r\n          pointSize={10}\r\n          pointColor={{ theme: \"background\" }}\r\n          pointBorderWidth={2}\r\n          pointBorderColor={{ from: \"serieColor\" }}\r\n          pointLabelYOffset={-12}\r\n          useMesh={true}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CostFluctuation;\r\n","const BASE_URL = \"/api/groups\";\r\n\r\nexport const fetchGroups = async ({ filter }) => {\r\n  const filterParam = filter ? `?filter=${filter}` : \"\";\r\n  const response = await fetch(BASE_URL + filterParam);\r\n  const groups = await response.json();\r\n  return groups;\r\n};\r\n","import SearchInput from '../SearchInput';\r\nimport { fetchGroups } from '../../api/groups';\r\n\r\nconst GroupSearch = ({ onSelect }) => {\r\n  const loadGroups = async (inputValue) => {\r\n    let groups = await fetchGroups({ filter: inputValue });\r\n\r\n    if (groups && groups.length > 0) {\r\n      const records = groups.map((record) => {\r\n        const group = {\r\n          key: record.groupId,\r\n          label: record.name,\r\n          value: record,\r\n        };\r\n        return group;\r\n      });\r\n\r\n      return records;\r\n    }\r\n  };\r\n\r\n  const handleSelect = (option, { action }) => {\r\n    if (action === 'select-option') {\r\n      onSelect(option.value, action);\r\n    } else if (action === 'clear') {\r\n      onSelect(null, action);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: '100%' }}>\r\n      <SearchInput loadOptions={loadGroups} placeholder='Buscar categoría...' onSelect={handleSelect} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GroupSearch;\r\n","const columns = [\r\n  {\r\n    Header: 'Producto',\r\n    accessor: 'product',\r\n  },\r\n  {\r\n    Header: 'Precio',\r\n    accessor: 'price',\r\n  },\r\n  {\r\n    Header: 'Inventario',\r\n    accessor: 'stock',\r\n  },\r\n];\r\n\r\nexport default columns;\r\n","import { useMemo } from 'react';\r\nimport Table from '../Table';\r\nimport columns from './columns';\r\n\r\nconst PriceListTable = ({ data }) => {\r\n  const memoizedColumns = useMemo(() => columns);\r\n\r\n  return <Table data={data} columns={memoizedColumns} />;\r\n};\r\n\r\nexport default PriceListTable;\r\n","const PriceListPDF = ({ data = [], group = \"\" }) => {\n  return (\n    <table id=\"price-list-table\">\n      <thead>\n        <tr>\n          <th>Categoría</th>\n          <th>Producto</th>\n          <th>Precio (USD)</th>\n          <th>DISPONIBLE</th>\n        </tr>\n      </thead>\n      <tbody>\n        {data.map((row) => {\n          if (row.stock > 0) {\n            return (\n              <tr key={row.productId}>\n                <td>{group}</td>\n                <td>{row.product}</td>\n                <td>{row.price}</td>\n                <td>EN STOCK</td>\n              </tr>\n            );\n          }\n        })}\n      </tbody>\n    </table>\n  );\n};\n\nexport default PriceListPDF;\n","import { useState, useEffect, useRef } from \"react\";\r\nimport GroupSearch from \"../../GroupSearch\";\r\nimport { fetchProductPriceList } from \"../../../api/products\";\r\nimport PriceListTable from \"../../PriceListTable\";\r\nimport { useReportFilter } from \"../../../hooks/useReportFilter\";\r\nimport { DateTime } from \"luxon\";\r\nimport PriceListPDF from \"../../PDF/PriceList\";\r\nimport { renderToStaticMarkup } from \"react-dom/server\";\r\nimport { fetchProductsByGroup } from \"../../../api/products\";\r\n\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nconst doc = new jsPDF(\"p\", \"pt\", \"a4\");\r\nconst pdfName = `LISTA-DE-PRECIOS-${DateTime.fromISO(new Date().toISOString())\r\n  .toLocaleString()\r\n  .replaceAll(\"/\", \"-\")}.pdf`;\r\n\r\ndoc.setProperties({\r\n  title: pdfName,\r\n});\r\n\r\nconst GroupStock = () => {\r\n  const [selectedGroup, setSelectedGroup] = useState(null);\r\n  const [data, setData] = useState([]);\r\n  const { filteredData, setFilteredData, onFilterDebounced } = useReportFilter(data);\r\n  const inputRef = useRef(null);\r\n  const [printPDF, setPrintPDF] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (selectedGroup) {\r\n      const fetch_stock_by_group = async () => {\r\n        const data = await fetchProductPriceList(selectedGroup.groupId);\r\n        setFilteredData([]);\r\n        inputRef.current.value = \"\";\r\n        setData([...data]);\r\n      };\r\n\r\n      fetch_stock_by_group();\r\n    } else if (!selectedGroup) {\r\n      setData([]);\r\n    }\r\n  }, [selectedGroup]);\r\n\r\n  useEffect(() => {\r\n    if (printPDF) {\r\n      const fetch_product_data = async () => {\r\n        const groups = await fetchProductsByGroup();\r\n        var div = document.createElement(\"div\");\r\n        doc.setFontSize(16);\r\n        doc.text(\"ALIMENTOS DM MARKET, C.A.\", 300, 25, { align: \"center\" });\r\n        doc.setFontSize(6);\r\n        doc.text(\r\n          \"CALLE ILUSTRES PROCERES LOCAL NRO S/N SECTOR CENTRO ALTAGRACIA DE ORITUCO DE ORITUCO ZONA POSTAL 2320.\",\r\n          300,\r\n          35,\r\n          { align: \"center\" }\r\n        );\r\n        doc.setFontSize(8);\r\n        doc.text(\"R.I.F.: J-41270446-0\", 300, 45, { align: \"center\" });\r\n        doc.text(\"Teléfono:\", 300, 55, { align: \"center\" });\r\n\r\n        doc.setFontSize(9);\r\n        doc.text(`LISTA DE PRECIOS AL ${DateTime.fromISO(new Date().toISOString()).toLocaleString()}`, 300, 70, {\r\n          align: \"center\",\r\n        });\r\n\r\n        Object.keys(groups).map((key, index) => {\r\n          const products = groups[key];\r\n          div.innerHTML = renderToStaticMarkup(<PriceListPDF data={products} group={key} />);\r\n          doc.autoTable({\r\n            html: div.firstChild,\r\n            styles: { cellPadding: 2 },\r\n            didParseCell: (data) => {\r\n              if (data.section === \"body\" && data.cell.raw && data.cell.raw.nodeName === \"TH\") {\r\n                data.cell.styles.fillColor = \"gray\";\r\n                data.cell.styles.color = \"white\";\r\n                data.cell.styles.cellWidth = \"wrap\";\r\n              }\r\n            },\r\n            margin: { top: 80 },\r\n          });\r\n          doc.addPage();\r\n        });\r\n        doc.save(pdfName);\r\n        setPrintPDF(false);\r\n      };\r\n      fetch_product_data();\r\n    }\r\n  }, [printPDF]);\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-header\">\r\n        <h2>Lista de precio por categoría</h2>\r\n        <button onClick={() => setPrintPDF(true)}>Imprimir</button>\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"space-between\",\r\n            gap: \"40%\",\r\n          }}\r\n        >\r\n          <GroupSearch onSelect={setSelectedGroup} />\r\n\r\n          <input\r\n            ref={inputRef}\r\n            className=\"input-filter\"\r\n            placeholder=\"Buscar...\"\r\n            type=\"search\"\r\n            onChange={(event) => {\r\n              onFilterDebounced(event.target.value, \"product\");\r\n            }}\r\n          />\r\n        </div>\r\n        <PriceListTable data={filteredData.length > 0 ? filteredData : data} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GroupStock;\r\n","import { useState } from 'react';\r\nimport debounce from 'lodash.debounce';\r\n\r\nexport const useReportFilter = (data_to_filter, initial_state = []) => {\r\n  const [filteredData, setFilteredData] = useState(initial_state);\r\n\r\n  const onFilterDebounced = debounce((filterValue, filterKey, nestedKey) => {\r\n    if (nestedKey) {\r\n      nestedFilter(filterValue, filterKey, nestedKey);\r\n    } else {\r\n      filter(filterValue, filterKey);\r\n    }\r\n  }, 500);\r\n\r\n  const filter = (filterValue, filterKey) => {\r\n    const filtered = data_to_filter.filter((r) => r[filterKey].toLowerCase().includes(filterValue.toLowerCase()));\r\n    setFilteredData(filtered);\r\n    return filtered;\r\n  };\r\n\r\n  const nestedFilter = (filterValue, filterKey, nestedKey) => {\r\n    console.log('nestedKLey', nestedKey);\r\n    const filtered = data_to_filter[nestedKey].filter((r) => r[filterKey].toLowerCase().includes(filterValue.toLowerCase()));\r\n    setFilteredData({ ...filteredData, [nestedKey]: filtered });\r\n  };\r\n\r\n  return {\r\n    filter,\r\n    filteredData,\r\n    setFilteredData,\r\n    onFilterDebounced,\r\n  };\r\n};\r\n","import { useEffect, useState } from \"react\";\nimport { ResponsivePie } from \"@nivo/pie\";\nimport { fetchCostPerGroup } from \"../../../api/products\";\n\nconst ProductCostPerGroupCard = () => {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    const fetch = async () => {\n      const response = await fetchCostPerGroup();\n      if (response && response.length) {\n        const chartData = response.reduce(\n          (acc, current) => [\n            ...acc,\n            {\n              id: current.group_name,\n              label: current.product,\n              value: current.total_cost,\n            },\n          ],\n          []\n        );\n        console.log(response, chartData);\n        setData(chartData);\n      }\n    };\n    fetch();\n  }, []);\n\n  return (\n    <div className=\"card\">\n      <div className=\"card-header\">\n        <h3>Inversión por categoría</h3>\n      </div>\n      <div className=\"card-body\">\n        {data.length > 0 && (\n          <ResponsivePie\n            data={data}\n            margin={{ top: 30, right: 20, bottom: 20, left: 20 }}\n            innerRadius={0.5}\n            padAngle={0.7}\n            cornerRadius={3}\n            valueFormat={(value) => value.toLocaleString()}\n            activeOuterRadiusOffset={8}\n            borderWidth={1}\n            arcLinkLabelsSkipAngle={10}\n            arcLinkLabelsTextColor=\"#333333\"\n            arcLinkLabelsThickness={2}\n            arcLinkLabelsColor={{ from: \"color\" }}\n            arcLabelsSkipAngle={10}\n            arcLabelsTextColor={{\n              from: \"color\",\n              modifiers: [[\"darker\", 2]],\n            }}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ProductCostPerGroupCard;\n","import { useState } from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport CostFluctuationCard from \"../../components/Cards/CostFluctuation\";\nimport GroupStock from \"../../components/Cards/GroupStock\";\nimport DatePicker from \"../../components/DatePicker\";\nimport ProductCostPerGroup from \"../../components/ProductCostPerGroup/Card\";\nimport { DateTime } from \"luxon\";\nimport debounce from \"lodash.debounce\";\n\nconst ProductosPage = () => {\n  const [data, setData] = useState({\n    filtered_best_clients: [],\n    best_clients: [],\n    group_sales_chart: [],\n  });\n  const [dateRange, setDateRange] = useState({\n    from: DateTime.now().toISODate(),\n    to: DateTime.now().toISODate(),\n  });\n\n  const onFilter = debounce((searchTerm) => {\n    const filteredData = data.best_clients.filter((f) => f.client.toLowerCase().includes(searchTerm.toLowerCase()));\n    setData({ ...data, filtered_best_clients: filteredData });\n  }, 500);\n\n  return (\n    <Container fluid className=\"px-5 pt-3 pb-5\">\n      <div className=\"\"></div>\n      <div className=\"d-flex flex-column flex-xl-row content-center gap-3\">\n        <div className=\"col-12 col-xl-4\">\n          <CostFluctuationCard />\n        </div>\n        <div className=\"col-12 col-xl-4\">\n          <GroupStock />\n        </div>\n        <div className=\"col-12 col-xl-4\">\n          <ProductCostPerGroup />\n        </div>\n      </div>\n    </Container>\n  );\n};\n\nexport default ProductosPage;\n","import { useState } from \"react\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Container from \"react-bootstrap/Container\";\nimport Nav from \"react-bootstrap/Nav\";\n\nimport VentasPage from \"./pages/ventas\";\nimport ClientesPage from \"./pages/clientes\";\nimport ProductosPage from \"./pages/productos\";\n\nimport { Link, BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nfunction App() {\n  const [activeLink, setActiveLink] = useState(\"ventas\");\n\n  return (\n    <div className=\"App bg-dark\">\n      <Container fluid id=\"main\" className=\"m-0 p-0 vh-100\">\n        <Router>\n          <Navbar bg=\"dark\" variant=\"dark\" className=\"border-bottom\">\n            <Container fluid>\n              <Navbar.Brand>SISTEMA DE REPORTES</Navbar.Brand>\n              <Nav\n                className=\"me-auto\"\n                onClick={(event) => {\n                  if (event.target.tagName === \"A\") {\n                    setActiveLink(event.target.href);\n                  }\n                }}\n              >\n                <Link\n                  to=\"/ventas\"\n                  className={`text-decoration-none text-secondary nav-link ${\n                    (activeLink.includes(\"ventas\") && \"active\") || \"\"\n                  }`}\n                >\n                  Ventas\n                </Link>\n                <Link\n                  to=\"/clientes\"\n                  className={`text-decoration-none text-secondary nav-link ${\n                    (activeLink.includes(\"clientes\") && \"active\") || \"\"\n                  }`}\n                >\n                  Clientes\n                </Link>\n                <Link\n                  to=\"/productos\"\n                  className={`text-decoration-none text-secondary nav-link ${\n                    (activeLink.includes(\"productos\") && \"active\") || \"\"\n                  }`}\n                >\n                  Productos\n                </Link>\n              </Nav>\n            </Container>\n          </Navbar>\n\n          <Switch>\n            <Route path=\"/ventas\" component={VentasPage} />\n            <Route path=\"/clientes\" component={ClientesPage} />\n            <Route path=\"/productos\" component={ProductosPage} />\n          </Switch>\n        </Router>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}