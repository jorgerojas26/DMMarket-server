{"version":3,"sources":["context/currency_rate.js","components/DatePicker/index.js","api/invoice/index.js","components/Table/index.js","components/InvoicesTable/columns.js","components/InvoicesTable/index.js","components/Modals/CurrencyModal.js","components/ProductsTable/pdf.js","components/ProductsTable/index.js","pages/invoices/index.js","components/SaleReportTable/columns.js","components/SaleReportTable/index.js","components/Cards/SaleReport/index.js","components/Cards/GroupSales/index.js","pages/ventas/index.js","components/ClientReportTable/columns.js","components/ClientReportTable/index.js","components/Cards/ClientReport/index.js","components/SearchInput/index.js","api/products/index.js","components/ProductSearch/index.js","components/ClientPerProduct/Table/columns.js","components/ClientPerProduct/Table/index.js","api/clients/index.js","components/ClientPerProduct/Card/index.js","components/ClientSearch/index.js","components/MonthlyAverageClient/Card/index.js","pages/clientes/index.js","components/Cards/CostFluctuation/index.js","api/groups/index.js","components/GroupSearch/index.js","components/PriceListTable/columns.js","components/PriceListTable/index.js","components/PDF/PriceList/index.js","components/Cards/GroupStock/index.js","hooks/useReportFilter.js","components/ProductCostPerGroup/Card/index.js","pages/productos/index.js","employees/Table/Sales/columns.js","employees/Table/Sales/EmployeesSalesTable.js","api/employees/index.js","employees/Search/EmployeeSearch.js","employees/Modal/Commission/CommissionModal.js","employees/Actions/index.js","pages/employees/index.js","components/Cards/ProductGraph/index.js","pages/categories/index.js","api/currency_rates/index.js","App.js","index.js"],"names":["CurrencyRateContext","React","createContext","CurrencyRateProvider","_ref","children","_useState","useState","_useState2","_slicedToArray","currencyRate","setCurrencyRate","_jsx","Provider","value","DatePicker","onSubmit","loading","submitDisabled","from","DateTime","now","toISODate","to","dateRange","setDateRange","_jsxs","className","type","onChange","event","_objectSpread","target","Button","variant","onClick","disabled","role","BASE_URL","fetchInvoiceReport","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","report","wrap","_context","prev","next","fetch","concat","sent","json","console","log","abrupt","stop","_x","apply","arguments","fetchInvoiceList","_ref4","_callee2","_ref3","invoices","_context2","_x2","Table","_ref$data","data","_ref$columns","columns","filterPlaceholder","onFilter","_ref$maxHeight","maxHeight","_ref$showFooter","showFooter","onRowSelect","_ref$multiSelect","multiSelect","_useTable","useTable","useRowSelect","getTableProps","getTableBodyProps","headerGroups","footerGroups","rows","prepareRow","state","onFilterDebounced","debounce","useEffect","selectedRows","filter","row","isSelected","map","original","_rows$find","find","MemoizedRow","memo","getRowProps","e","lastSelectedRowIndex","Object","keys","selectedRowIds","length","newSelectedRowIndex","index","ctrlKey","shiftKey","toggleRowSelected","i","getToggleRowSelectedProps","cells","cell","title","getCellProps","style","background","color","render","placeholder","autoFocus","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","group","getFooterGroupProps","getFooterProps","Header","accessor","Cell","toFixed","dayjs","format","InvoicesTable","memoizedColumns","useMemo","Card","Body","CurrencyModal","show","onClose","Modal","size","onHide","closeButton","Title","pdfschema","productList","quantityTotal","totalSummary","currency","content","text","local","toFormat","table","widths","body","_toConsumableArray","product","quantity","total","bold","styles","header","alignment","margin","pageMargins","pageSize","pdfMake","vfs","pdfFonts","ProductsTable","useContext","showCurrencyModal","setShowCurrencyModal","reduce","acc","item","sortedData","sort","a","b","toLowerCase","localeCompare","Footer","productsData","pdfData","Number","price","Cambio","pdf","createPdf","open","InvoicesPage","setLoading","_useState3","_useState4","setInvoices","_useState5","_useState6","setSelectedRows","productsSummary","products","forEach","productId","values","invoicesTotalSummary","invoice","preventDefault","Container","fluid","current","toLocaleString","rawProfit","_ref5","netProfit","_ref6","SaleReportTable","SaleReportCard","sorting","setSorting","setSortedData","sorted","marginRight","GroupSales","_ref$chartData","chartData","ResponsivePie","top","right","bottom","left","innerRadius","padAngle","cornerRadius","activeOuterRadiusOffset","arcLabel","borderWidth","arcLinkLabelsSkipAngle","arcLinkLabelsTextColor","arcLinkLabelsThickness","arcLinkLabelsColor","arcLabelsSkipAngle","arcLabelsTextColor","modifiers","tooltip","datum","label","VentasPage","filtered_invoices_report","invoices_report","group_sales_chart","setData","searchTerm","filteredData","f","includes","group_sales_chart_data","id","categoria","sales_report","ClientReportTable","ClientReportCard","_Fragment","SearchInput","loadOptions","_ref$defaultOptions","defaultOptions","_ref$cacheOptions","cacheOptions","onSelect","AsyncSelect","inputValue","callback","loadingMessage","isClearable","fetchProducts","filterParam","fetchCostFluctuation","fetchCostPerGroup","_callee3","_context3","fetchProductsByGroup","_callee4","_context4","fetchProductPriceList","_callee5","groupId","_context5","_x3","ProductSearch","loadProductVariants","records","record","product_name","Descripcion","key","option","action","ClientPerProductTable","fetchClients","clients","fetchBestClients","fetchBestClientsPerProduct","_x4","fetchMonthlyAverage","clientId","_x5","ClientPerProductCard","selectedProduct","setSelectedProduct","IdProducto","then","display","flexDirection","gap","fromISO","flex","justifyContent","width","ClientSearch","loadClients","IdCliente","name","MonthlyAverageClient","selectedClient","setSelectedClient","ResponsiveLine","xScale","yScale","min","max","stacked","reverse","axisTop","axisRight","pointSize","pointColor","theme","pointBorderWidth","pointBorderColor","pointLabelYOffset","useMesh","ClientesPage","filtered_best_clients","best_clients","client","MonthlyAverageClientCard","CostFluctuation","fetch_product_report","report_data","axisLeft","legend","legendPosition","legendOffset","axisBottom","fetchGroups","groups","fetchSalesByGroup","categoryId","GroupSearch","loadGroups","isSearchable","PriceListTable","PriceListPDF","_ref$group","stock","GroupStock","selectedGroup","setSelectedGroup","_useReportFilter","data_to_filter","initial_state","undefined","setFilteredData","filterValue","filterKey","nestedKey","nestedFilter","filtered","r","_defineProperty","useReportFilter","inputRef","useRef","_useState7","_useState8","fetch_stock_by_group","ref","div","doc","pdfName","document","createElement","jsPDF","Date","toISOString","replaceAll","setProperties","setFontSize","align","innerHTML","renderToStaticMarkup","autoTable","html","firstChild","cellPadding","didParseCell","section","raw","nodeName","fillColor","cellWidth","addPage","save","ProductCostPerGroupCard","group_name","total_cost","valueFormat","ProductosPage","CostFluctuationCard","ProductCostPerGroup","setZone","invoiceTotal","commissionTotal","EmployeeSalesTable","getAllEmployees","employees","getComisionInfo","employeeId","commissionInfo","catch","error","updateComisionInfo","res","method","JSON","stringify","getEmployeeSales","sales","EmployeeSearch","loadEmployees","CommissionModal","employee","setCommissionInfo","formData","setFormData","message","submissionState","setSubmissionState","sanitizedFormData","submitForm","success","Alert","Spinner","animation","info","step","commission","onFocus","select","EmployeeActions","onDateSubmit","employeeSalesLoading","setEmployeeSalesLoading","selectedEmployee","setSelectedEmployee","showCommissionModal","setShowCommissionModal","EmployeesPage","employeeSales","setEmployeeSales","ProductChart","Categories","onDateChange","t0","finish","fetchCurrencyRates","status","App","location","useLocation","_useContext","Simbolo","Navbar","bg","expand","Brand","Toggle","Collapse","Nav","route","Link","pathname","textTransform","Switch","Route","path","component","CategoriesPage","ReactDOM","StrictMode","BrowserRouter","getElementById"],"mappings":"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","file":"static/js/main.3824a2a4.chunk.js","sourcesContent":["import React, { useState } from 'react';\n\nexport const CurrencyRateContext = React.createContext();\n\nexport const CurrencyRateProvider = ({ children }) => {\n  const [currencyRate, setCurrencyRate] = useState(0);\n\n  return (\n    <CurrencyRateContext.Provider value={{ currencyRate, setCurrencyRate }}>{children}</CurrencyRateContext.Provider>\n  );\n};\n","import { useState } from 'react';\nimport { DateTime } from 'luxon';\nimport { Button } from 'react-bootstrap';\n\nconst DatePicker = ({ onSubmit, loading, submitDisabled }) => {\n    const [dateRange, setDateRange] = useState({\n        from: DateTime.now().toISODate(),\n        to: DateTime.now().toISODate(),\n    });\n\n    return (\n        <div className='d-flex flex-column flex-sm-row justify-content-center mb-3 gap-2'>\n            <div className='d-flex flex-row justify-content-center align-items-center gap-2 text-light'>\n                <label className='d-none d-sm-flex'>Desde:</label>\n                <input\n                    type='date'\n                    value={dateRange.from}\n                    onChange={(event) => setDateRange({ ...dateRange, from: event.target.value })}\n                />\n                <label className='d-none d-sm-flex'>Hasta:</label>\n                <input\n                    type='date'\n                    value={dateRange.to}\n                    onChange={(event) => setDateRange({ ...dateRange, to: event.target.value })}\n                />\n            </div>\n            <Button\n                variant='primary'\n                onClick={(event) => onSubmit(event, dateRange)}\n                disabled={loading || submitDisabled}\n            >\n                {loading && (\n                    <div>\n                        <span className='spinner-border spinner-border-sm' role='status' aria-hidden='true'></span>\n                        <span className='visually-hidden'>Loading...</span>\n                    </div>\n                )}\n                {!loading && <span className='mr-2'>Enviar</span>}\n            </Button>\n        </div>\n    );\n};\n\nexport default DatePicker;\n","const BASE_URL = '/api/invoices';\r\n\r\nexport const fetchInvoiceReport = async ({ from, to }) => {\r\n    const response = await fetch(`${BASE_URL}/sales?from=${from}&to=${to}`);\r\n    const report = await response.json();\r\n    console.log('From fetchInvoiceReport: ', report);\r\n    return report;\r\n};\r\n\r\nexport const fetchInvoiceList = async ({ from, to }) => {\r\n    const response = await fetch(`${BASE_URL}?from=${from}&to=${to}`);\r\n    const invoices = await response.json();\r\n    return invoices;\r\n};\r\n","import { useEffect } from 'react';\r\nimport React from 'react';\r\nimport { useTable, useRowSelect } from 'react-table';\r\n\r\nimport debounce from 'lodash.debounce';\r\n\r\nconst Table = ({\r\n    data = [],\r\n    loading,\r\n    columns = [],\r\n    filterPlaceholder,\r\n    onFilter,\r\n    maxHeight = 350,\r\n    showFooter = false,\r\n    onRowSelect,\r\n    multiSelect = false,\r\n}) => {\r\n    const { getTableProps, getTableBodyProps, headerGroups, footerGroups, rows, prepareRow, state } = useTable(\r\n        {\r\n            columns,\r\n            data,\r\n        },\r\n        useRowSelect\r\n    );\r\n\r\n    const onFilterDebounced = debounce((value) => {\r\n        onFilter(value);\r\n    }, 500);\r\n\r\n    useEffect(() => {\r\n        if (multiSelect) {\r\n            const selectedRows = rows.filter((row) => row.isSelected);\r\n            onRowSelect(selectedRows.map((row) => row.original));\r\n        } else {\r\n            onRowSelect && onRowSelect(rows.find((row) => row.isSelected)?.original);\r\n        }\r\n    }, [state, multiSelect, onRowSelect]);\r\n\r\n    const MemoizedRow = React.memo(\r\n        ({ row }) => {\r\n            return (\r\n                <tr\r\n                    {...row.getRowProps({\r\n                        onClick: onRowSelect\r\n                            ? (e) => {\r\n                                  const lastSelectedRowIndex = Object.keys(state.selectedRowIds)[\r\n                                      Object.keys(state.selectedRowIds).length - 1\r\n                                  ];\r\n                                  const newSelectedRowIndex = row.index;\r\n\r\n                                  if (e.ctrlKey && !e.shiftKey) {\r\n                                      row.toggleRowSelected();\r\n                                  } else if (e.shiftKey && !e.ctrlKey) {\r\n                                      if (multiSelect) {\r\n                                          if (newSelectedRowIndex >= lastSelectedRowIndex) {\r\n                                              for (let i = lastSelectedRowIndex; i <= newSelectedRowIndex; i++) {\r\n                                                  if (i !== lastSelectedRowIndex) {\r\n                                                      rows[i].toggleRowSelected();\r\n                                                  }\r\n                                              }\r\n                                          } else {\r\n                                              for (let i = lastSelectedRowIndex; i >= newSelectedRowIndex; i--) {\r\n                                                  if (i !== lastSelectedRowIndex) {\r\n                                                      rows[i].toggleRowSelected();\r\n                                                  }\r\n                                              }\r\n                                          }\r\n                                      }\r\n                                  } else {\r\n                                      if (row.isSelected) {\r\n                                          row.toggleRowSelected();\r\n                                      } else {\r\n                                          state.selectedRowIds = {};\r\n                                          row.toggleRowSelected();\r\n                                      }\r\n                                  }\r\n                              }\r\n                            : null,\r\n                    })}\r\n                    {...row.getToggleRowSelectedProps({})}\r\n                >\r\n                    {row.cells.map((cell, index) => {\r\n                        return (\r\n                            <td\r\n                                title={cell.value}\r\n                                {...cell.getCellProps()}\r\n                                style={{\r\n                                    background: row.isSelected ? 'lightblue' : 'white',\r\n                                    color: row.isSelected ? 'white' : 'black',\r\n                                }}\r\n                            >\r\n                                {cell.render('Cell')}\r\n                            </td>\r\n                        );\r\n                    })}\r\n                </tr>\r\n            );\r\n        },\r\n        [data]\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            {onFilter && (\r\n                <div className='table-filter-container'>\r\n                    <input\r\n                        className='table-filter-input'\r\n                        onChange={(event) => onFilterDebounced(event.target.value)}\r\n                        placeholder={filterPlaceholder}\r\n                        autoFocus\r\n                    />\r\n                </div>\r\n            )}\r\n            <div className='table-container' style={{ maxHeight }}>\r\n                <table {...getTableProps()}>\r\n                    <thead>\r\n                        {headerGroups.map((headerGroup) => (\r\n                            <tr {...headerGroup.getHeaderGroupProps()}>\r\n                                {headerGroup.headers.map((column) => (\r\n                                    <th {...column.getHeaderProps()}>{column.render('Header')}</th>\r\n                                ))}\r\n                            </tr>\r\n                        ))}\r\n                    </thead>\r\n                    <tbody {...getTableBodyProps()}>\r\n                        {rows.map((row) => {\r\n                            prepareRow(row);\r\n                            return <MemoizedRow row={row} />;\r\n                        })}\r\n                    </tbody>\r\n                    {showFooter && data.length > 0 && (\r\n                        <tfoot>\r\n                            {footerGroups.map((group) => (\r\n                                <tr {...group.getFooterGroupProps()}>\r\n                                    {group.headers.map((column) => (\r\n                                        <td {...column.getFooterProps()}>{column.render('Footer')}</td>\r\n                                    ))}\r\n                                </tr>\r\n                            ))}\r\n                        </tfoot>\r\n                    )}\r\n                </table>\r\n                {loading && (\r\n                    <div className='position-absolute top-50 start-50 translate-middle'>\r\n                        <span className='spinner-border spinner-border-md' role='status' aria-hidden='true' />\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Table;\r\n","import dayjs from 'dayjs';\n\nconst columns = [\n  {\n    Header: 'ID',\n    accessor: 'invoiceId',\n  },\n  {\n    Header: 'Cliente',\n    accessor: 'client',\n  },\n  {\n    Header: 'RIF',\n    accessor: 'rif',\n  },\n  {\n    Header: 'TOTAL',\n    accessor: 'total',\n    Cell: ({ value }) => `$${value ? value.toFixed(2) : ''}`,\n  },\n  {\n    Header: 'Fecha',\n    accessor: 'createdAt',\n    Cell: ({ value }) => {\n      return dayjs(value).format('MMM DD, YYYY');\n    },\n  },\n];\n\nexport default columns;\n","import Table from 'components/Table';\nimport { Card } from 'react-bootstrap';\nimport { useMemo } from 'react';\nimport columns from './columns';\n\nconst InvoicesTable = ({ data, loading, onRowSelect }) => {\n  const memoizedColumns = useMemo(() => columns, []);\n\n  return (\n    <Card className='noselect'>\n      <Card.Header>\n        <h3>Facturas</h3>\n      </Card.Header>\n      <Card.Body>\n        <Table data={data} columns={memoizedColumns} loading={loading} onRowSelect={onRowSelect} multiSelect />\n      </Card.Body>\n    </Card>\n  );\n};\n\nexport default InvoicesTable;\n","import { Modal, Button } from 'react-bootstrap';\n\nfunction CurrencyModal({ show, onClose, onSubmit }) {\n  return (\n    <Modal show={show} size='sm' onHide={onClose}>\n      <Modal.Header closeButton onHide={onClose}>\n        <Modal.Title>Moneda</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <Button className='w-100 mb-3' onClick={() => onSubmit('USD')}>\n          USD\n        </Button>\n        <Button className='w-100' onClick={() => onSubmit('Bs')}>\n          Bs\n        </Button>\n      </Modal.Body>\n    </Modal>\n  );\n}\n\nexport default CurrencyModal;\n","import { DateTime } from 'luxon';\n\nconst pdfschema = (productList, quantityTotal, totalSummary, currency) => ({\n  content: [\n    { text: 'ALIMENTOS DM MARKET, C.A.', style: 'header' },\n    {\n      text: 'CALLE ILUSTRES PROCERES LOCAL NRO S/N SECTOR CENTRO ALTAGRACIA DE ORITUCO DE ORITUCO ZONA POSTAL 2320.',\n      style: 'header',\n    },\n    { text: 'R.I.F.: J-41270446-0', style: 'header' },\n    { text: DateTime.local().toFormat('dd/MM/yyyy'), style: 'header' },\n    {\n      style: 'table',\n      table: {\n        widths: [85, '*', 'auto', 'auto'],\n        body: [\n          ['CATEGORÍA', 'PRODUCTO', 'CANTIDAD', `TOTAL (${currency})`],\n          ...productList.map(({ group, product, quantity, total }) => [group, product, quantity, total]),\n          ['', '', { text: quantityTotal, bold: true }, { text: `${currency} ${totalSummary}`, bold: true }],\n        ],\n      },\n    },\n  ],\n  styles: {\n    header: {\n      alignment: 'center',\n    },\n    table: {\n      margin: [0, 20, 0, 0],\n    },\n  },\n\n  pageMargins: 40,\n  pageSize: 'LETTER',\n});\n\nexport default pdfschema;\n","import { useMemo, useContext, useState } from 'react';\nimport { CurrencyRateContext } from '../../context/currency_rate';\nimport { Card, Button } from 'react-bootstrap';\nimport Table from 'components/Table';\nimport CurrencyModal from 'components/Modals/CurrencyModal';\nimport pdf from './pdf';\nimport pdfMake from 'pdfmake/build/pdfmake';\nimport pdfFonts from 'pdfmake/build/vfs_fonts';\npdfMake.vfs = pdfFonts.pdfMake.vfs;\n\nconst ProductsTable = ({ data, totalSummary }) => {\n    const { currencyRate } = useContext(CurrencyRateContext);\n\n    const [showCurrencyModal, setShowCurrencyModal] = useState(false);\n\n    const quantityTotal = useMemo(() => {\n        if (!data) return 0;\n\n        return data.reduce((acc, item) => {\n            return acc + item.quantity;\n        }, 0);\n    }, [data]);\n\n    const sortedData = useMemo(() => {\n        if (!data) return [];\n\n        return data.sort((a, b) => {\n            return (\n                a.group.toLowerCase().localeCompare(b.group.toLowerCase()) ||\n                a.product.toLowerCase().localeCompare(b.product.toLowerCase())\n            );\n        });\n    }, [data]);\n\n    const memoizedColumns = useMemo(\n        () => [\n            {\n                Header: 'Categoría',\n                accessor: 'group',\n            },\n            {\n                Header: 'ID',\n                accessor: 'productId',\n            },\n            {\n                Header: 'Producto',\n                accessor: 'product',\n            },\n            {\n                Header: 'Cantidad',\n                accessor: 'quantity',\n                Footer: () => {\n                    return <span>{quantityTotal ? quantityTotal.toFixed(2) : ''}</span>;\n                },\n            },\n            {\n                Header: 'Total',\n                accessor: 'total',\n                Footer: () => {\n                    return <span>${totalSummary ? totalSummary.toFixed(2) : ''}</span>;\n                },\n            },\n        ],\n        [totalSummary, quantityTotal]\n    );\n\n    console.log(sortedData);\n\n    // const exportToPDF = () => {\n    //   const pdfData = pdf(sortedData, quantityTotal, totalSummary);\n    //\n    //   pdfMake.createPdf(pdfData).open();\n    // };\n\n    return (\n        <Card>\n            <Card.Header>\n                <div className='d-flex w-100 justify-content-between'>\n                    <h3>Productos</h3>\n                    <Button onClick={() => setShowCurrencyModal(true)}>Imprimir</Button>\n                </div>\n            </Card.Header>\n            <Card.Body>\n                <Table data={sortedData} columns={memoizedColumns} showFooter />\n            </Card.Body>\n            {showCurrencyModal && (\n                <CurrencyModal\n                    show={showCurrencyModal}\n                    onClose={() => setShowCurrencyModal(false)}\n                    onSubmit={async (currency) => {\n                        let productsData = sortedData;\n\n                        if (currency === 'Bs') {\n                            productsData = productsData.map((item) => {\n                                return {\n                                    ...item,\n                                    total: Number(item.price * item.quantity * currencyRate?.Cambio).toFixed(2),\n                                };\n                            });\n                        }\n\n                        const pdfData = pdf(productsData, quantityTotal, totalSummary, currency);\n\n                        pdfMake.createPdf(pdfData).open();\n                    }}\n                />\n            )}\n        </Card>\n    );\n};\n\nexport default ProductsTable;\n","import { useState, useMemo } from 'react';\nimport { Container } from 'react-bootstrap';\nimport DatePicker from 'components/DatePicker';\nimport { fetchInvoiceList } from '../../api/invoice';\nimport InvoicesTable from 'components/InvoicesTable';\nimport ProductsTable from 'components/ProductsTable';\n\nconst InvoicesPage = () => {\n  const [loading, setLoading] = useState(false);\n  const [invoices, setInvoices] = useState([]);\n  const [selectedRows, setSelectedRows] = useState([]);\n\n  const productsSummary = useMemo(() => {\n    if (!selectedRows || selectedRows.length === 0) return [];\n\n    const products = {};\n\n    selectedRows.forEach((row) => {\n      row.products.forEach((product) => {\n        if (!products[product.productId]) {\n          products[product.productId] = {\n            ...product,\n            quantity: 0,\n          };\n        }\n\n        products[product.productId].quantity += product.quantity;\n        products[product.productId].total = products[product.productId].quantity * products[product.productId].price;\n        products[product.productId].total = products[product.productId].total.toFixed(2);\n      });\n    });\n    //convert products to an array\n    return Object.values(products);\n  }, [selectedRows]);\n\n  const invoicesTotalSummary = useMemo(() => {\n    if (!selectedRows || selectedRows.length === 0) return 0;\n\n    return selectedRows.reduce((total, invoice) => total + invoice?.total, 0);\n  }, [selectedRows]);\n\n  const onSubmit = async (event, dateRange) => {\n    event.preventDefault();\n\n    setLoading(true);\n    const response = await fetchInvoiceList(dateRange);\n    setInvoices(response);\n    setLoading(false);\n  };\n\n  return (\n    <Container fluid>\n      <DatePicker onSubmit={onSubmit} loading={loading} />\n      <div className='d-flex flex-column flex-xl-row justify-content-center gap-3'>\n        <div className='col-12 col-xl-6'>\n          <InvoicesTable data={invoices} loading={loading} onRowSelect={setSelectedRows} />\n        </div>\n        <div className='col-12 col-xl-6'>\n          <ProductsTable data={productsSummary} loading={loading} totalSummary={invoicesTotalSummary} />\n        </div>\n      </div>\n    </Container>\n  );\n};\n\nexport default InvoicesPage;\n","const columns = [\r\n  {\r\n    Header: \"Producto\",\r\n    accessor: \"product\",\r\n  },\r\n  {\r\n    Header: \"Cantidad\",\r\n    accessor: \"quantity\",\r\n    Footer: ({ data }) => {\r\n      const total = data.reduce((acc, current) => {\r\n        return acc + current.quantity;\r\n      }, 0);\r\n      return Number(total).toFixed(2);\r\n    },\r\n  },\r\n  {\r\n    Header: \"Bruto\",\r\n    accessor: \"rawProfit\",\r\n    Cell: ({ value }) => {\r\n      return value ? \"$\" + value.toLocaleString() : \"\";\r\n    },\r\n    Footer: ({ data }) => {\r\n      const total = data.reduce((acc, current) => {\r\n        return acc + current.rawProfit;\r\n      }, 0);\r\n      return \"$\" + Number(total.toFixed(2)).toLocaleString();\r\n    },\r\n  },\r\n  {\r\n    Header: \"Utilidad\",\r\n    accessor: \"netProfit\",\r\n    Cell: ({ value }) => {\r\n      return value ? \"$\" + value.toLocaleString() : \"\";\r\n    },\r\n    Footer: ({ data }) => {\r\n      const total = data.reduce((acc, current) => {\r\n        return acc + current.netProfit;\r\n      }, 0);\r\n      return \"$\" + Number(total.toFixed(2)).toLocaleString();\r\n    },\r\n  },\r\n  {\r\n    Header: \"Promedio\",\r\n    accessor: \"averageProfitPercent\",\r\n    Cell: ({ value }) => {\r\n      return value + \"%\";\r\n    },\r\n  },\r\n];\r\n\r\nexport default columns;\r\n","import { useMemo } from 'react';\r\nimport Table from 'components/Table';\r\nimport columns from './columns';\r\n\r\nconst SaleReportTable = ({ data, loading }) => {\r\n  const memoizedColumns = useMemo(() => columns, []);\r\n\r\n  return <Table data={data} columns={memoizedColumns} showFooter loading={loading} />;\r\n};\r\n\r\nexport default SaleReportTable;\r\n","import { useEffect, useState } from 'react';\r\nimport SaleReportTable from 'components/SaleReportTable';\r\n\r\nconst SaleReportCard = ({ data = [], onFilter, loading }) => {\r\n  const [sorting, setSorting] = useState('rawProfit');\r\n  const [sortedData, setSortedData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const sorted = data.sort((a, b) => {\r\n      return b[sorting] - a[sorting];\r\n    });\r\n    setSortedData([...sorted]);\r\n  }, [sorting, data]);\r\n\r\n  return (\r\n    <div className='card'>\r\n      <div className='card-header'>\r\n        <h3>Ventas</h3>\r\n        <div>\r\n          <label style={{ marginRight: '5px' }}>Ordenar:</label>\r\n          <select onChange={(event) => setSorting(event.target.value)} value={sorting}>\r\n            <option value='quantity'>Cantidad</option>\r\n            <option value='rawProfit'>Bruto</option>\r\n            <option value='netProfit'>Utilidad</option>\r\n            <option value='averageProfitPercent'>Promedio</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div className='card-body'>\r\n        <input\r\n          className='input-filter'\r\n          placeholder='Buscar...'\r\n          type='search'\r\n          onChange={(event) => onFilter(event.target.value)}\r\n        />\r\n        <SaleReportTable data={sortedData} loading={loading} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SaleReportCard;\r\n","import { ResponsivePie } from '@nivo/pie';\n\nconst GroupSales = ({ chartData = [], loading }) => {\n  return (\n    <div className='card'>\n      <div className='card-header'>\n        <h3>Gráfico de categorías</h3>\n      </div>\n      <div className='card-body'>\n        {chartData.length > 0 && (\n          <ResponsivePie\n            data={chartData}\n            margin={{ top: 30, right: 20, bottom: 20, left: 20 }}\n            innerRadius={0.5}\n            padAngle={0.7}\n            cornerRadius={3}\n            activeOuterRadiusOffset={8}\n            arcLabel={function (e) {\n              return `${e.value} (${e.data.netProfit})`;\n            }}\n            borderWidth={1}\n            arcLinkLabelsSkipAngle={10}\n            arcLinkLabelsTextColor='#333333'\n            arcLinkLabelsThickness={2}\n            arcLinkLabelsColor={{ from: 'color' }}\n            arcLabelsSkipAngle={10}\n            arcLabelsTextColor={{\n              from: 'color',\n              modifiers: [['darker', 2]],\n            }}\n            tooltip={({ datum }) => {\n              return (\n                <div className='tooltip-container'>\n                  <span className='small-square' style={{ background: datum.color }}></span>\n                  <strong>{datum.label}</strong>\n                  <label>Bruto: </label>\n                  <span>${Number(datum.value).toLocaleString()}</span>\n                  <label>Utilidad: </label>\n                  <span>${Number(datum.data.netProfit).toLocaleString()}</span>\n                </div>\n              );\n            }}\n          />\n        )}\n        {loading && (\n          <div className='position-absolute top-50 start-50 translate-middle'>\n            <span className='spinner-border spinner-border-md' role='status' aria-hidden='true' />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default GroupSales;\n","import { useState } from 'react';\nimport Container from 'react-bootstrap/Container';\nimport SaleReportCard from 'components/Cards/SaleReport';\nimport GroupSales from 'components/Cards/GroupSales';\nimport DatePicker from 'components/DatePicker';\nimport { fetchInvoiceReport } from 'api/invoice';\nimport debounce from 'lodash.debounce';\n\nconst VentasPage = () => {\n    const [data, setData] = useState({\n        filtered_invoices_report: [],\n        invoices_report: [],\n        group_sales_chart: [],\n    });\n    const [loading, setLoading] = useState(false);\n\n    const onFilter = debounce((searchTerm) => {\n        const filteredData = data.invoices_report.filter((f) =>\n            f.product.toLowerCase().includes(searchTerm.toLowerCase())\n        );\n        setData({ ...data, filtered_invoices_report: filteredData });\n    }, 500);\n\n    const onSubmit = async (event, dateRange) => {\n        event.preventDefault();\n\n        setLoading(true);\n        const response = await fetchInvoiceReport(dateRange);\n        const chartData = response.group_sales_chart_data.reduce(\n            (acc, current) => [\n                ...acc,\n                {\n                    id: current.categoria,\n                    label: current.categoria,\n                    value: current.rawProfit,\n                    netProfit: current.netProfit,\n                },\n            ],\n            []\n        );\n        setData({ ...data, invoices_report: response.sales_report, group_sales_chart: chartData });\n        setLoading(false);\n    };\n\n    return (\n        <Container fluid>\n            <DatePicker onSubmit={onSubmit} loading={loading} />\n\n            <div className='d-flex flex-column flex-xl-row justify-content-center gap-3'>\n                <div className='col-12 col-xl-6'>\n                    <SaleReportCard\n                        data={\n                            data.filtered_invoices_report.length > 0\n                                ? data.filtered_invoices_report\n                                : data.invoices_report\n                        }\n                        onFilter={onFilter}\n                        loading={loading}\n                    />\n                </div>\n                <div className='col-12 col-xl-6'>\n                    <GroupSales chartData={data.group_sales_chart} loading={loading} />\n                </div>\n            </div>\n        </Container>\n    );\n};\n\nexport default VentasPage;\n","const columns = [\r\n  {\r\n    Header: 'Cliente',\r\n    accessor: 'client',\r\n  },\r\n  {\r\n    Header: 'Total',\r\n    accessor: 'total_USD',\r\n    Cell: ({ value }) => {\r\n      return '$' + value.toLocaleString();\r\n    },\r\n  },\r\n];\r\n\r\nexport default columns;\r\n","import { useMemo } from 'react';\r\nimport Table from '../Table';\r\nimport columns from './columns';\r\n\r\nconst ClientReportTable = ({ data, loading }) => {\r\n  const memoizedColumns = useMemo(() => columns, []);\r\n\r\n  return <Table data={data} columns={memoizedColumns} loading={loading} />;\r\n};\r\n\r\nexport default ClientReportTable;\r\n","import ClientReportTable from 'components/ClientReportTable';\r\n\r\nconst ClientReportCard = ({ loading, data = [], onFilter }) => {\r\n  return (\r\n    <div className='card'>\r\n      <div className='card-header'>\r\n        <h3>Mejores clientes</h3>\r\n      </div>\r\n      <div className='card-body'>\r\n        {data.length > 0 && (\r\n          <>\r\n            <input\r\n              className='input-filter'\r\n              placeholder='Buscar...'\r\n              type='search'\r\n              onChange={(event) => onFilter(event.target.value, 'client', 'client_report')}\r\n            />\r\n            <ClientReportTable data={data} loading={loading} />\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClientReportCard;\r\n","import AsyncSelect from 'react-select/async';\r\nimport debounce from 'debounce-promise';\r\n\r\nconst SearchInput = ({ placeholder, loadOptions, defaultOptions = true, cacheOptions = true, onSelect }) => {\r\n  return (\r\n    <AsyncSelect\r\n      loadOptions={debounce((inputValue, callback) => loadOptions(inputValue, callback), 700)}\r\n      cacheOptions={cacheOptions}\r\n      defaultOptions={defaultOptions}\r\n      placeholder={placeholder}\r\n      onChange={onSelect ? onSelect : null}\r\n      loadingMessage={() => {\r\n        return 'Cargando...';\r\n      }}\r\n      isClearable\r\n    />\r\n  );\r\n};\r\n\r\nexport default SearchInput;\r\n","const BASE_URL = \"/api/products\";\r\nconst REPORTS_BASE_URL = \"/api/reports/products\";\r\n\r\nexport const fetchProducts = async ({ filter }) => {\r\n  const filterParam = filter ? `?filter=${filter}` : \"\";\r\n  const response = await fetch(BASE_URL + filterParam);\r\n  const products = await response.json();\r\n  return products;\r\n};\r\n\r\nexport const fetchCostFluctuation = async (productId) => {\r\n  const response = await fetch(`${BASE_URL}/cost-fluctuation/${productId}`);\r\n  const report = await response.json();\r\n  return report;\r\n};\r\n\r\nexport const fetchCostPerGroup = async () => {\r\n  const response = await fetch(`${BASE_URL}/cost/group`);\r\n  const report = await response.json();\r\n  return report;\r\n};\r\n\r\nexport const fetchProductsByGroup = async () => {\r\n  const response = await fetch(`${BASE_URL}/group`);\r\n  const products = await response.json();\r\n  return products;\r\n};\r\n\r\nexport const fetchProductPriceList = async (groupId) => {\r\n  const response = await fetch(`${BASE_URL}/price-list/${groupId}`);\r\n  const report = response.json();\r\n  return report;\r\n};\r\n\r\nexport const fetchProductReports = async (productId) => {\r\n  const response = await fetch(`${REPORTS_BASE_URL}/cost-fluctuation/${productId}`);\r\n  const report = response.json();\r\n  return report;\r\n};\r\n\r\nexport const fetchBestClients = async (productId, dateRange) => {\r\n  const response = await fetch(\r\n    `${REPORTS_BASE_URL}/best-clients/${productId}?from=${dateRange.from}&to=${dateRange.to}`\r\n  );\r\n  const report = response.json();\r\n  return report;\r\n};\r\n","import SearchInput from 'components/SearchInput';\r\nimport { fetchProducts } from 'api/products';\r\n\r\nconst ProductSearch = ({ onSelect }) => {\r\n    const loadProductVariants = async (inputValue) => {\r\n        let products = await fetchProducts({ filter: inputValue });\r\n\r\n        if (products && products.length > 0) {\r\n            const records = products.map((record) => {\r\n                let product_name = record.Descripcion;\r\n\r\n                const product = {\r\n                    key: record.id,\r\n                    label: product_name,\r\n                    value: record,\r\n                };\r\n                return product;\r\n            });\r\n\r\n            return records;\r\n        }\r\n    };\r\n\r\n    const handleSelect = (option, { action }) => {\r\n        if (action === 'select-option') {\r\n            onSelect(option.value, action);\r\n        } else if (action === 'clear') {\r\n            onSelect(null, action);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <SearchInput\r\n            loadOptions={loadProductVariants}\r\n            defaultOptions={false}\r\n            placeholder='Buscar producto...'\r\n            onSelect={handleSelect}\r\n        />\r\n    );\r\n};\r\n\r\nexport default ProductSearch;\r\n","const columns = [\r\n  {\r\n    Header: 'Cliente',\r\n    accessor: 'client',\r\n  },\r\n  {\r\n    Header: 'Cantidad',\r\n    accessor: 'quantity_total',\r\n  },\r\n  {\r\n    Header: 'Total',\r\n    accessor: 'total_USD',\r\n    Cell: ({ value }) => {\r\n      return value ? '$' + value.toLocaleString() : '';\r\n    },\r\n  },\r\n  {\r\n    Header: 'Utilidad',\r\n    accessor: 'utilidad',\r\n    Cell: ({ value }) => {\r\n      return value ? '$' + value.toLocaleString() : 0;\r\n    },\r\n  },\r\n];\r\n\r\nexport default columns;\r\n","import { useMemo } from 'react';\r\nimport Table from 'components/Table';\r\nimport columns from './columns';\r\n\r\nconst ClientPerProductTable = ({ data, loading }) => {\r\n  const memoizedColumns = useMemo(() => columns, []);\r\n\r\n  return <Table data={data} columns={memoizedColumns} loading={loading} />;\r\n};\r\n\r\nexport default ClientPerProductTable;\r\n","const BASE_URL = '/api/clients';\n\nexport const fetchClients = async ({ filter }) => {\n  const filterParam = filter ? `?filter=${filter}` : '';\n  const response = await fetch(`${BASE_URL}${filterParam}`);\n  const clients = response.json();\n  return clients;\n};\nexport const fetchBestClients = async (dateRange) => {\n  const response = await fetch(`${BASE_URL}/best/?from=${dateRange.from}&to=${dateRange.to}`);\n  const report = response.json();\n  return report;\n};\n\nexport const fetchBestClientsPerProduct = async (productId, dateRange) => {\n  const response = await fetch(`${BASE_URL}/best/product/${productId}?from=${dateRange.from}&to=${dateRange.to}`);\n  const report = response.json();\n  return report;\n};\n\nexport const fetchMonthlyAverage = async (clientId) => {\n  const response = await fetch(`${BASE_URL}/average/month/${clientId}`);\n  const report = response.json();\n  return report;\n};\n","import { useState, useEffect } from 'react';\r\nimport ProductSearch from 'components/ProductSearch';\r\nimport ClientPerProductTable from 'components/ClientPerProduct/Table';\r\nimport { fetchBestClientsPerProduct } from 'api/clients';\r\nimport { DateTime } from 'luxon';\r\n\r\nconst ClientPerProductCard = ({ dateRange }) => {\r\n  const [selectedProduct, setSelectedProduct] = useState(null);\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (selectedProduct && dateRange.from && dateRange.to) {\r\n      setLoading(true);\r\n      fetchBestClientsPerProduct(selectedProduct.IdProducto, dateRange).then((response) => {\r\n        setData([...response]);\r\n        setLoading(false);\r\n      });\r\n    } else if (!selectedProduct) {\r\n      setData([]);\r\n    }\r\n  }, [selectedProduct, dateRange]);\r\n  console.log(data);\r\n\r\n  return (\r\n    <div className='card'>\r\n      <div className='card-header'>\r\n        <h3>Cliente por producto</h3>\r\n        <div style={{ display: 'flex', flexDirection: 'row', gap: '5px' }}>\r\n          <small>Desde: </small>\r\n          <small>{DateTime.fromISO(dateRange.from).toLocaleString()} </small>\r\n          <small>Hasta: </small>\r\n          <small>{DateTime.fromISO(dateRange.to).toLocaleString()} </small>\r\n        </div>\r\n      </div>\r\n      <div className='card-body'>\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            flex: '1',\r\n            justifyContent: 'space-between',\r\n          }}\r\n        >\r\n          <div style={{ width: '100%' }}>\r\n            <ProductSearch onSelect={setSelectedProduct} />\r\n          </div>\r\n        </div>\r\n        <ClientPerProductTable data={data} loading={loading} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClientPerProductCard;\r\n","import SearchInput from 'components/SearchInput';\nimport { fetchClients } from 'api/clients';\n\nconst ClientSearch = ({ onSelect }) => {\n    const loadClients = async (inputValue) => {\n        let clients = await fetchClients({ filter: inputValue });\n\n        if (clients && clients.length > 0) {\n            const records = clients.map((record) => {\n                const client = {\n                    key: record.IdCliente,\n                    label: record.name,\n                    value: record,\n                };\n                return client;\n            });\n\n            return records;\n        }\n    };\n\n    const handleSelect = (option, { action }) => {\n        if (action === 'select-option') {\n            onSelect && onSelect(option.value, action);\n        } else if (action === 'clear') {\n            onSelect && onSelect(null, action);\n        }\n    };\n\n    return (\n        <SearchInput\n            loadOptions={loadClients}\n            defaultOptions={false}\n            placeholder='Buscar cliente...'\n            onSelect={handleSelect}\n        />\n    );\n};\n\nexport default ClientSearch;\n","import { useState, useEffect } from 'react';\nimport { fetchMonthlyAverage } from 'api/clients';\nimport ClientSearch from 'components/ClientSearch';\nimport { ResponsiveLine } from '@nivo/line';\n\nconst MonthlyAverageClient = () => {\n  const [selectedClient, setSelectedClient] = useState(null);\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (selectedClient) {\n      setLoading(true);\n      fetchMonthlyAverage(selectedClient.IdCliente).then((response) => {\n        console.log(response);\n        if (Object.keys(response).length > 0) {\n          setData([response]);\n        }\n        setLoading(false);\n      });\n    } else {\n      setData([]);\n    }\n  }, [selectedClient]);\n\n  return (\n    <div className='card'>\n      <div className='card-header'>\n        <h3>Promedio mensual</h3>\n      </div>\n      <div className='card-body'>\n        <ClientSearch onSelect={setSelectedClient} />\n        {data && (\n          <ResponsiveLine\n            data={data}\n            margin={{ top: 20, right: 30, bottom: 80, left: 40 }}\n            xScale={{ type: 'point' }}\n            yScale={{\n              type: 'linear',\n              min: 'auto',\n              max: 'auto',\n              stacked: true,\n              reverse: false,\n            }}\n            axisTop={null}\n            axisRight={null}\n            pointSize={10}\n            pointColor={{ theme: 'background' }}\n            pointBorderWidth={2}\n            pointBorderColor={{ from: 'serieColor' }}\n            pointLabelYOffset={-12}\n            useMesh={true}\n          />\n        )}\n        {loading && (\n          <div className='position-absolute top-50 start-50 translate-middle'>\n            <span className='spinner-border spinner-border-md' role='status' aria-hidden='true' />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default MonthlyAverageClient;\n","import { useState } from 'react';\nimport Container from 'react-bootstrap/Container';\nimport ClientReportCard from 'components/Cards/ClientReport';\nimport ClientPerProductCard from 'components/ClientPerProduct/Card';\nimport MonthlyAverageClientCard from 'components/MonthlyAverageClient/Card';\nimport DatePicker from 'components/DatePicker';\nimport { fetchBestClients } from 'api/clients';\nimport { DateTime } from 'luxon';\nimport debounce from 'lodash.debounce';\n\nconst ClientesPage = () => {\n  const [data, setData] = useState({\n    filtered_best_clients: [],\n    best_clients: [],\n    group_sales_chart: [],\n  });\n  const [dateRange, setDateRange] = useState({\n    from: DateTime.now().toISODate(),\n    to: DateTime.now().toISODate(),\n  });\n  const [loading, setLoading] = useState(false);\n\n  const onFilter = debounce((searchTerm) => {\n    const filteredData = data.best_clients.filter((f) => f.client.toLowerCase().includes(searchTerm.toLowerCase()));\n    setData({ ...data, filtered_best_clients: filteredData });\n  }, 500);\n\n  const onSubmit = async (event, dateRange) => {\n    event.preventDefault();\n\n    setLoading(true);\n    const response = await fetchBestClients(dateRange);\n    setDateRange(dateRange);\n    setData({ ...data, best_clients: response });\n    setLoading(false);\n  };\n\n  return (\n    <Container fluid>\n      <DatePicker onSubmit={onSubmit} loading={loading} />\n      <div className='d-flex flex-column flex-xl-row justify-content-center gap-3'>\n        <div className='col-12 col-xl-4'>\n          <ClientReportCard\n            data={data.filtered_best_clients.length > 0 ? data.filtered_best_clients : data.best_clients}\n            onFilter={onFilter}\n            loading={loading}\n          />\n        </div>\n        <div className='col-12 col-xl-4'>\n          <ClientPerProductCard dateRange={dateRange} />\n        </div>\n        <div className='col-12 col-xl-4'>\n          <MonthlyAverageClientCard />\n        </div>\n      </div>\n    </Container>\n  );\n};\n\nexport default ClientesPage;\n","import { useState, useEffect } from 'react';\r\nimport ProductSearch from 'components/ProductSearch';\r\nimport { ResponsiveLine } from '@nivo/line';\r\nimport { fetchCostFluctuation } from 'api/products';\r\n\r\nconst CostFluctuation = () => {\r\n  const [selectedProduct, setSelectedProduct] = useState(null);\r\n  const [data, setData] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (selectedProduct) {\r\n      const fetch_product_report = async () => {\r\n        setLoading(true);\r\n        const report_data = await fetchCostFluctuation(selectedProduct.IdProducto);\r\n        if (Object.keys(report_data).length > 0) {\r\n          setData([report_data]);\r\n        }\r\n        setLoading(false);\r\n      };\r\n\r\n      fetch_product_report();\r\n    } else if (!selectedProduct) {\r\n      setData([]);\r\n    }\r\n  }, [selectedProduct]);\r\n\r\n  return (\r\n    <div className='card'>\r\n      <div className='card-header'>\r\n        <h3>Promedio mensual costo</h3>\r\n      </div>\r\n      <div className='card-body'>\r\n        <ProductSearch onSelect={setSelectedProduct} />\r\n        <ResponsiveLine\r\n          data={data}\r\n          margin={{ top: 20, right: 30, bottom: 80, left: 40 }}\r\n          xScale={{ type: 'point' }}\r\n          yScale={{\r\n            type: 'linear',\r\n            min: 'auto',\r\n            max: 'auto',\r\n            stacked: true,\r\n            reverse: false,\r\n          }}\r\n          axisTop={null}\r\n          axisRight={null}\r\n          axisLeft={{\r\n            legend: 'Precio',\r\n            legendPosition: 'middle',\r\n            legendOffset: -30,\r\n          }}\r\n          axisBottom={{\r\n            legend: 'Meses',\r\n            legendPosition: 'middle',\r\n            legendOffset: 30,\r\n          }}\r\n          pointSize={10}\r\n          pointColor={{ theme: 'background' }}\r\n          pointBorderWidth={2}\r\n          pointBorderColor={{ from: 'serieColor' }}\r\n          pointLabelYOffset={-12}\r\n          useMesh={true}\r\n        />\r\n      </div>\r\n      {loading && (\r\n        <div className='position-absolute top-50 start-50 translate-middle'>\r\n          <span className='spinner-border spinner-border-md' role='status' aria-hidden='true' />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CostFluctuation;\r\n","const BASE_URL = '/api/groups';\r\n\r\nexport const fetchGroups = async ({ filter }) => {\r\n    const filterParam = filter ? `?filter=${filter}` : '';\r\n    const response = await fetch(BASE_URL + filterParam);\r\n    const groups = await response.json();\r\n    return groups;\r\n};\r\n\r\nexport const fetchSalesByGroup = async ({ from, to, categoryId }) => {\r\n    const response = await fetch(`${BASE_URL}/sales/${categoryId}?from=${from}&to=${to}`);\r\n    const report = await response.json();\r\n    console.log('From fetchSalesByCategory', report);\r\n    return report;\r\n};\r\n","import SearchInput from 'components/SearchInput';\r\nimport { fetchGroups } from 'api/groups';\r\n\r\nconst GroupSearch = ({ onSelect }) => {\r\n    const loadGroups = async (inputValue) => {\r\n        let groups = await fetchGroups({ filter: inputValue });\r\n\r\n        if (groups && groups.length > 0) {\r\n            const records = groups.map((record) => {\r\n                const group = {\r\n                    key: record.groupId,\r\n                    label: record.name,\r\n                    value: record,\r\n                };\r\n                return group;\r\n            });\r\n\r\n            return records;\r\n        }\r\n    };\r\n\r\n    const handleSelect = (option, { action }) => {\r\n        if (action === 'select-option') {\r\n            onSelect(option.value, action);\r\n        } else if (action === 'clear') {\r\n            onSelect(null, action);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ width: '100%' }}>\r\n            <SearchInput\r\n                loadOptions={loadGroups}\r\n                placeholder='Buscar categoría...'\r\n                onSelect={handleSelect}\r\n                isSearchable={false}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default GroupSearch;\r\n","const columns = [\r\n  {\r\n    Header: 'Producto',\r\n    accessor: 'product',\r\n  },\r\n  {\r\n    Header: 'Precio',\r\n    accessor: 'price',\r\n  },\r\n  {\r\n    Header: 'Inventario',\r\n    accessor: 'stock',\r\n  },\r\n];\r\n\r\nexport default columns;\r\n","import { useMemo } from 'react';\r\nimport Table from 'components/Table';\r\nimport columns from './columns';\r\n\r\nconst PriceListTable = ({ data, loading }) => {\r\n  const memoizedColumns = useMemo(() => columns, []);\r\n\r\n  return <Table data={data} columns={memoizedColumns} loading={loading} />;\r\n};\r\n\r\nexport default PriceListTable;\r\n","const PriceListPDF = ({ data = [], group = '', currency }) => {\n  return (\n    <table id='price-list-table'>\n      <thead>\n        <tr>\n          <th>Categoría</th>\n          <th>Producto</th>\n          <th>{`Precio (${currency})`}</th>\n          <th>DISPONIBLE</th>\n        </tr>\n      </thead>\n      <tbody>\n        {data.map((row) => {\n          if (row.stock > 0) {\n            return (\n              <tr key={row.productId}>\n                <td>{group}</td>\n                <td>{row.product}</td>\n                <td>{row.price}</td>\n                <td>EN STOCK</td>\n              </tr>\n            );\n          } else {\n            return '';\n          }\n        })}\n      </tbody>\n    </table>\n  );\n};\n\nexport default PriceListPDF;\n","import { useState, useEffect, useRef, useContext } from 'react';\r\nimport { CurrencyRateContext } from '../../../context/currency_rate';\r\nimport GroupSearch from 'components/GroupSearch';\r\nimport { fetchProductPriceList } from 'api/products';\r\nimport PriceListTable from 'components/PriceListTable';\r\nimport { useReportFilter } from 'hooks/useReportFilter';\r\nimport { DateTime } from 'luxon';\r\nimport PriceListPDF from 'components/PDF/PriceList';\r\nimport { renderToStaticMarkup } from 'react-dom/server';\r\nimport { fetchProductsByGroup } from 'api/products';\r\nimport { Button } from 'react-bootstrap';\r\nimport CurrencyModal from 'components/Modals/CurrencyModal';\r\n\r\nimport jsPDF from 'jspdf';\r\nimport 'jspdf-autotable';\r\n\r\nconst GroupStock = () => {\r\n  const [selectedGroup, setSelectedGroup] = useState(null);\r\n  const [data, setData] = useState([]);\r\n  const { filteredData, setFilteredData, onFilterDebounced } = useReportFilter(data);\r\n  const inputRef = useRef(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [showCurrencyModal, setShowCurrencyModal] = useState(false);\r\n\r\n  const { currencyRate } = useContext(CurrencyRateContext);\r\n\r\n  useEffect(() => {\r\n    if (selectedGroup) {\r\n      const fetch_stock_by_group = async () => {\r\n        setLoading(true);\r\n        const data = await fetchProductPriceList(selectedGroup.groupId);\r\n        setFilteredData([]);\r\n        inputRef.current.value = '';\r\n        setData([...data]);\r\n        setLoading(false);\r\n      };\r\n\r\n      fetch_stock_by_group();\r\n    } else if (!selectedGroup) {\r\n      setData([]);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selectedGroup]);\r\n\r\n  return (\r\n    <div className='card'>\r\n      <div className='card-header'>\r\n        <h3>Lista de precios por categoría</h3>\r\n        <Button variant='primary' onClick={() => setShowCurrencyModal(true)}>\r\n          <span>Imprimir</span>\r\n        </Button>\r\n      </div>\r\n      <div className='card-body'>\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            gap: '20%',\r\n          }}\r\n        >\r\n          <GroupSearch onSelect={setSelectedGroup} />\r\n\r\n          <input\r\n            ref={inputRef}\r\n            className='input-filter'\r\n            placeholder='Buscar...'\r\n            type='search'\r\n            onChange={(event) => {\r\n              onFilterDebounced(event.target.value, 'product');\r\n            }}\r\n          />\r\n        </div>\r\n        <PriceListTable data={filteredData.length > 0 ? filteredData : data} loading={loading} />\r\n      </div>\r\n      {showCurrencyModal && (\r\n        <CurrencyModal\r\n          show={showCurrencyModal}\r\n          onClose={() => setShowCurrencyModal(false)}\r\n          onSubmit={async (currency) => {\r\n            console.log('currency', currency);\r\n            const groups = await fetchProductsByGroup();\r\n            var div = document.createElement('div');\r\n\r\n            const doc = new jsPDF('p', 'pt', 'a4');\r\n            const pdfName = `LISTA-DE-PRECIOS-${DateTime.fromISO(new Date().toISOString())\r\n              .toLocaleString()\r\n              .replaceAll('/', '-')}.pdf`;\r\n            doc.setProperties({\r\n              title: pdfName,\r\n            });\r\n            doc.setFontSize(16);\r\n            doc.text('ALIMENTOS DM MARKET, C.A.', 300, 25, { align: 'center' });\r\n            doc.setFontSize(6);\r\n            doc.text(\r\n              'CALLE ILUSTRES PROCERES LOCAL NRO S/N SECTOR CENTRO ALTAGRACIA DE ORITUCO DE ORITUCO ZONA POSTAL 2320.',\r\n              300,\r\n              35,\r\n              { align: 'center' }\r\n            );\r\n            doc.setFontSize(8);\r\n            doc.text('R.I.F.: J-41270446-0', 300, 45, { align: 'center' });\r\n            doc.text('Teléfono:', 300, 55, { align: 'center' });\r\n\r\n            doc.setFontSize(9);\r\n            doc.text(`LISTA DE PRECIOS AL ${DateTime.fromISO(new Date().toISOString()).toLocaleString()}`, 300, 70, {\r\n              align: 'center',\r\n            });\r\n\r\n            Object.keys(groups).forEach((key) => {\r\n              let products = groups[key];\r\n\r\n              products = products.map((product) => {\r\n                if (currency === 'Bs') {\r\n                  console.log('yes currency is Bs');\r\n                  return {\r\n                    ...product,\r\n                    price: Number(product.price * currencyRate?.Cambio).toFixed(2),\r\n                  };\r\n                }\r\n\r\n                return product;\r\n              });\r\n\r\n              div.innerHTML = renderToStaticMarkup(<PriceListPDF data={products} group={key} currency={currency} />);\r\n              doc.autoTable({\r\n                html: div.firstChild,\r\n                styles: { cellPadding: 2 },\r\n                didParseCell: (data) => {\r\n                  if (data.section === 'body' && data.cell.raw && data.cell.raw.nodeName === 'TH') {\r\n                    data.cell.styles.fillColor = 'gray';\r\n                    data.cell.styles.color = 'white';\r\n                    data.cell.styles.cellWidth = 'wrap';\r\n                  }\r\n                },\r\n                margin: { top: 80 },\r\n              });\r\n              doc.addPage();\r\n            });\r\n            doc.save(pdfName);\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GroupStock;\r\n","import { useState } from 'react';\r\nimport debounce from 'lodash.debounce';\r\n\r\nexport const useReportFilter = (data_to_filter, initial_state = []) => {\r\n  const [filteredData, setFilteredData] = useState(initial_state);\r\n\r\n  const onFilterDebounced = debounce((filterValue, filterKey, nestedKey) => {\r\n    if (nestedKey) {\r\n      nestedFilter(filterValue, filterKey, nestedKey);\r\n    } else {\r\n      filter(filterValue, filterKey);\r\n    }\r\n  }, 500);\r\n\r\n  const filter = (filterValue, filterKey) => {\r\n    const filtered = data_to_filter.filter((r) => r[filterKey].toLowerCase().includes(filterValue.toLowerCase()));\r\n    setFilteredData(filtered);\r\n    return filtered;\r\n  };\r\n\r\n  const nestedFilter = (filterValue, filterKey, nestedKey) => {\r\n    console.log('nestedKLey', nestedKey);\r\n    const filtered = data_to_filter[nestedKey].filter((r) => r[filterKey].toLowerCase().includes(filterValue.toLowerCase()));\r\n    setFilteredData({ ...filteredData, [nestedKey]: filtered });\r\n  };\r\n\r\n  return {\r\n    filter,\r\n    filteredData,\r\n    setFilteredData,\r\n    onFilterDebounced,\r\n  };\r\n};\r\n","import { useEffect, useState } from 'react';\nimport { ResponsivePie } from '@nivo/pie';\nimport { fetchCostPerGroup } from 'api/products';\n\nconst ProductCostPerGroupCard = () => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const fetch = async () => {\n      setLoading(true);\n      const response = await fetchCostPerGroup();\n      if (response && response.length) {\n        const chartData = response.reduce(\n          (acc, current) => [\n            ...acc,\n            {\n              id: current.group_name,\n              label: current.product,\n              value: current.total_cost,\n            },\n          ],\n          []\n        );\n        console.log(response, chartData);\n        setData(chartData);\n      }\n      setLoading(false);\n    };\n    fetch();\n  }, []);\n\n  return (\n    <div className='card'>\n      <div className='card-header'>\n        <h3>Inversión por categoría</h3>\n      </div>\n      <div className='card-body'>\n        {data.length > 0 && (\n          <ResponsivePie\n            data={data}\n            margin={{ top: 30, right: 20, bottom: 20, left: 20 }}\n            innerRadius={0.5}\n            padAngle={0.7}\n            cornerRadius={3}\n            valueFormat={(value) => value.toLocaleString()}\n            activeOuterRadiusOffset={8}\n            borderWidth={1}\n            arcLinkLabelsSkipAngle={10}\n            arcLinkLabelsTextColor='#333333'\n            arcLinkLabelsThickness={2}\n            arcLinkLabelsColor={{ from: 'color' }}\n            arcLabelsSkipAngle={10}\n            arcLabelsTextColor={{\n              from: 'color',\n              modifiers: [['darker', 2]],\n            }}\n          />\n        )}\n        {loading && (\n          <div className='position-absolute top-50 start-50 translate-middle'>\n            <span className='spinner-border spinner-border-md' role='status' aria-hidden='true' />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ProductCostPerGroupCard;\n","import Container from 'react-bootstrap/Container';\nimport CostFluctuationCard from 'components/Cards/CostFluctuation';\nimport GroupStock from 'components/Cards/GroupStock';\nimport ProductCostPerGroup from 'components/ProductCostPerGroup/Card';\n\nconst ProductosPage = () => {\n  return (\n    <Container fluid>\n      <div className='d-flex flex-column flex-xl-row justify-content-center gap-3'>\n        <div className='col-12 col-xl-4'>\n          <CostFluctuationCard />\n        </div>\n        <div className='col-12 col-xl-4'>\n          <GroupStock />\n        </div>\n        <div className='col-12 col-xl-4'>\n          <ProductCostPerGroup />\n        </div>\n      </div>\n    </Container>\n  );\n};\n\nexport default ProductosPage;\n","import { DateTime } from 'luxon';\n\nconst columns = [\n  {\n    Header: 'ID',\n    accessor: 'invoiceId',\n  },\n  {\n    Header: 'Cliente',\n    accessor: 'client',\n  },\n\n  {\n    Header: 'Rif',\n    accessor: 'rif',\n  },\n  {\n    Header: 'Fecha',\n    accessor: 'createdAt',\n    Cell: ({ value }) => {\n      return DateTime.fromISO(value, { setZone: true }).toFormat('F');\n    },\n  },\n\n  {\n    Header: 'Total',\n    accessor: 'invoiceTotal',\n    Cell: ({ value }) => {\n      return value ? '$' + value : '';\n    },\n    Footer: ({ data }) => {\n      const total = data.reduce((acc, current) => {\n        return acc + current.invoiceTotal;\n      }, 0);\n      return total ? '$' + Number(total).toLocaleString() : 0;\n    },\n  },\n\n  {\n    Header: 'Comisión',\n    accessor: 'commissionTotal',\n    Cell: ({ value }) => {\n      return value ? '$' + value : '';\n    },\n    Footer: ({ data }) => {\n      const total = data.reduce((acc, current) => {\n        return acc + current.commissionTotal;\n      }, 0);\n      return total ? '$' + Number(total).toLocaleString() : 0;\n    },\n  },\n];\n\nexport default columns;\n","import { useMemo } from 'react';\nimport Table from 'components/Table';\nimport columns from './columns';\n\nconst EmployeeSalesTable = ({ data, loading }) => {\n  const memoizedColumns = useMemo(() => columns, []);\n\n  return (\n    <>\n      <div className='card'>\n        <div className='card-header'>\n          <h2>Reporte de ventas</h2>\n        </div>\n        <div className='card-body'>\n          <Table data={data} columns={memoizedColumns} loading={loading} showFooter maxHeight={400} />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default EmployeeSalesTable;\n","const BASE_URL = '/api/employees';\n\nexport const getAllEmployees = async () => {\n  const response = await fetch(`${BASE_URL}`);\n  const employees = await response.json();\n  return employees;\n};\n\nexport const getComisionInfo = async (employeeId) => {\n  const response = await fetch(`${BASE_URL}/commissionInfo/${employeeId}`).catch((error) => ({ error }));\n  const commissionInfo = await response.json();\n  return commissionInfo;\n};\n\nexport const updateComisionInfo = async (employeeId, data) => {\n  const res = await fetch(`${BASE_URL}/commissionInfo/${employeeId}`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ commissionInfo: data }),\n  }).catch((error) => ({ error }));\n\n  const response = await res.json();\n  return response;\n};\n\nexport const getEmployeeSales = async (employeeId, dateRange) => {\n  const response = await fetch(`${BASE_URL}/sales/${employeeId}?from=${dateRange.from}&to=${dateRange.to}`).catch(\n    (error) => ({ error })\n  );\n  const sales = await response.json();\n  return sales;\n};\n","import { getAllEmployees } from 'api/employees';\nimport SearchInput from 'components/SearchInput';\n\nconst EmployeeSearch = ({ onSelect }) => {\n  const loadEmployees = async (inputValue) => {\n    let employees = await getAllEmployees({ filter: inputValue });\n\n    if (employees && employees.length > 0) {\n      const records = employees.map((record) => {\n        const employee = {\n          key: record.id,\n          label: record.name,\n          value: record,\n        };\n        return employee;\n      });\n\n      return records;\n    }\n  };\n\n  const handleSelect = (option, { action }) => {\n    if (action === 'select-option') {\n      onSelect && onSelect(option.value, action);\n    } else if (action === 'clear') {\n      onSelect && onSelect(null, action);\n    }\n  };\n\n  return <SearchInput loadOptions={loadEmployees} placeholder='Buscar vendedor...' onSelect={handleSelect} />;\n};\n\nexport default EmployeeSearch;\n","import { useEffect, useState } from 'react';\nimport { Modal, Button, Alert, Spinner } from 'react-bootstrap';\nimport { getComisionInfo, updateComisionInfo } from 'api/employees';\n\nconst CommissionModal = ({ employee, show, onClose }) => {\n  const [commissionInfo, setCommissionInfo] = useState({ data: [], loading: false });\n  const [formData, setFormData] = useState({});\n  const [submissionState, setSubmissionState] = useState({\n    loading: false,\n    error: false,\n    message: '',\n  });\n\n  useEffect(() => {\n    setCommissionInfo({ ...commissionInfo, loading: true });\n    getComisionInfo(employee.id).then((data) => {\n      setCommissionInfo({ data, loading: false });\n    });\n  }, []);\n\n  const sanitizedFormData = () => {\n    const data = {};\n    Object.keys(formData).map((key) => {\n      if (formData[key]) {\n        data[key] = Number(formData[key]);\n      }\n    });\n    return data;\n  };\n\n  const submitForm = async (event) => {\n    event.preventDefault();\n    if (!submissionState.loading) {\n      setSubmissionState({ ...submissionState, loading: true, text: '' });\n      const response = await updateComisionInfo(employee.id, sanitizedFormData());\n      if (response.error) {\n        setSubmissionState({ error: true, text: response.error.message, loading: false });\n      } else if (response.success) {\n        setSubmissionState({ error: false, text: 'El recurso fue actualizado con éxito', loading: false });\n      }\n    }\n  };\n\n  const modalBody = () => {\n    if (commissionInfo.data.error) {\n      return <Alert variant='danger'>{commissionInfo.data.error.message}</Alert>;\n    } else if (commissionInfo.loading) {\n      return <Spinner animation='border' />;\n    } else {\n      return commissionInfo.data.map((info) => {\n        return (\n          <div key={info.groupId} className='d-flex flex-column col-sm-4'>\n            <label className='form-label'>{info.group}</label>\n            <div className='input-group mb-3'>\n              <span className='input-group-text' id='basic-addon1'>\n                %\n              </span>\n              <input\n                type='number'\n                min={0}\n                step={0.01}\n                className='form-control'\n                placeholder={info.commission || 0}\n                value={formData[info.groupId] || ''}\n                onChange={(e) => setFormData({ ...formData, [info.groupId]: e.target.value })}\n                onFocus={(e) => e.target.select()}\n              />\n            </div>\n          </div>\n        );\n      });\n    }\n  };\n\n  return (\n    <Modal show={show} size='lg' onHide={onClose}>\n      <Modal.Header closeButton>\n        <Modal.Title>{employee.name}</Modal.Title>\n      </Modal.Header>\n      <form onSubmit={submitForm}>\n        <Modal.Body>\n          <div className='row justify-content-center'>{modalBody()}</div>\n        </Modal.Body>\n        <Modal.Footer className='px-0 pb-2'>\n          <div className='container-fluid d-flex justify-content-between align-items-center gap-5'>\n            <div className='col-9'>\n              {submissionState.text && (\n                <Alert variant={submissionState.error ? 'danger' : 'success'} className='mb-0 mt-0 p-1'>\n                  {submissionState.text}\n                </Alert>\n              )}\n            </div>\n            <div className='col-3 d-flex flex-wrap gap-2'>\n              <Button\n                type='submit'\n                variant='success'\n                disabled={Object.keys(formData).length === 0 || submissionState.loading}\n              >\n                Enviar\n              </Button>\n              <Button variant='danger' onClick={onClose}>\n                Cerrar\n              </Button>\n            </div>\n          </div>\n        </Modal.Footer>\n      </form>\n    </Modal>\n  );\n};\n\nexport default CommissionModal;\n","import { useState } from 'react';\nimport EmployeeSearch from 'employees/Search';\nimport { Button } from 'react-bootstrap';\nimport DatePicker from 'components/DatePicker';\nimport CommissionModal from 'employees/Modal/Commission';\nimport { getEmployeeSales } from 'api/employees';\n\nconst EmployeeActions = ({ onDateSubmit }) => {\n  const [employeeSalesLoading, setEmployeeSalesLoading] = useState(false);\n  const [selectedEmployee, setSelectedEmployee] = useState(null);\n  const [showCommissionModal, setShowCommissionModal] = useState(false);\n\n  const submitDateHandler = (event, dateRange) => {\n    event.preventDefault();\n    if (selectedEmployee) {\n      setEmployeeSalesLoading(true);\n      getEmployeeSales(selectedEmployee.id, dateRange).then((response) => {\n        setEmployeeSalesLoading(false);\n        onDateSubmit(response);\n      });\n    }\n  };\n\n  return (\n    <>\n      <div className='col-12 mb-4'>\n        <div className='row justify-content-end'>\n          <div className='col-6 mb-2'>\n            <EmployeeSearch onSelect={setSelectedEmployee} />\n          </div>\n          <div className='col-4'>\n            <Button variant='primary' disabled={!selectedEmployee} onClick={() => setShowCommissionModal(true)}>\n              Asignar comisión\n            </Button>\n          </div>\n        </div>\n        <DatePicker onSubmit={submitDateHandler} loading={employeeSalesLoading} submitDisabled={!selectedEmployee} />\n      </div>\n      {showCommissionModal && (\n        <CommissionModal\n          show={showCommissionModal}\n          onClose={() => setShowCommissionModal(false)}\n          employee={selectedEmployee}\n        />\n      )}\n    </>\n  );\n};\n\nexport default EmployeeActions;\n","import { useState } from 'react';\nimport EmployeeSalesTable from 'employees/Table/Sales';\nimport EmployeeActions from 'employees/Actions';\n\nconst EmployeesPage = () => {\n    const [employeeSales, setEmployeeSales] = useState([]);\n\n    const onSubmit = (sales) => {\n        setEmployeeSales(sales);\n    };\n\n    return (\n        <>\n            <div className='row justify-content-center'>\n                <div className='col-sm-12 col-xl-8'>\n                    <EmployeeActions onDateSubmit={onSubmit} />\n                    <EmployeeSalesTable data={employeeSales} />\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default EmployeesPage;\n","import { ResponsivePie } from '@nivo/pie';\n\nconst ProductChart = ({ chartData = [], loading }) => {\n    return (\n        <div className='card'>\n            <div className='card-header'>\n                <h3>Productos más vendidos</h3>\n            </div>\n            <div className='card-body'>\n                {chartData.length > 0 && (\n                    <ResponsivePie\n                        data={chartData}\n                        margin={{ top: 30, right: 20, bottom: 20, left: 20 }}\n                        innerRadius={0.5}\n                        padAngle={0.7}\n                        cornerRadius={3}\n                        activeOuterRadiusOffset={8}\n                        arcLabel={function (e) {\n                            return `${e.value} (${e.data.netProfit})`;\n                        }}\n                        borderWidth={1}\n                        arcLinkLabelsSkipAngle={10}\n                        arcLinkLabelsTextColor='#333333'\n                        arcLinkLabelsThickness={2}\n                        arcLinkLabelsColor={{ from: 'color' }}\n                        arcLabelsSkipAngle={10}\n                        arcLabelsTextColor={{\n                            from: 'color',\n                            modifiers: [['darker', 2]],\n                        }}\n                        tooltip={({ datum }) => {\n                            return (\n                                <div className='tooltip-container'>\n                                    <span className='small-square' style={{ background: datum.color }}></span>\n                                    <strong>{datum.label}</strong>\n                                    <label>Bruto: </label>\n                                    <span>${Number(datum.value).toLocaleString()}</span>\n                                    <label>Utilidad: </label>\n                                    <span>${Number(datum.data.netProfit).toLocaleString()}</span>\n                                </div>\n                            );\n                        }}\n                    />\n                )}\n                {loading && (\n                    <div className='position-absolute top-50 start-50 translate-middle'>\n                        <span className='spinner-border spinner-border-md' role='status' aria-hidden='true' />\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default ProductChart;\n","import { useState, useMemo } from 'react';\n\nimport DatePicker from 'components/DatePicker';\nimport SaleReportCard from '../../components/Cards/SaleReport';\nimport GroupSearch from '../../components/GroupSearch';\n\nimport { fetchSalesByGroup } from '../../api/groups';\nimport ProductChart from '../../components/Cards/ProductGraph';\n\nimport debounce from 'lodash.debounce';\n\nconst Categories = () => {\n    const [loading, setLoading] = useState(false);\n    const [data, setData] = useState([]);\n    const [filteredData, setFilteredData] = useState([]);\n    const [selectedGroup, setSelectedGroup] = useState();\n    console.log('filteredData', filteredData);\n\n    console.log('selectedGroup', selectedGroup);\n\n    const chartData = useMemo(() => {\n        const data_to_use = filteredData?.length ? filteredData : data;\n\n        return data_to_use.reduce(\n            (acc, current) => [\n                ...acc,\n                {\n                    id: current.product,\n                    label: current.product,\n                    value: current.rawProfit,\n                    netProfit: current.netProfit,\n                },\n            ],\n            []\n        );\n    }, [data, filteredData]);\n\n    const onFilter = debounce((searchTerm) => {\n        const filteredData = data.filter((f) => f.product.toLowerCase().includes(searchTerm.toLowerCase()));\n        setFilteredData(filteredData);\n    }, 500);\n\n    const onDateChange = async (event, dateRange) => {\n        event.preventDefault();\n\n        if (selectedGroup) {\n            try {\n                setLoading(true);\n                const response = await fetchSalesByGroup({\n                    from: dateRange.from,\n                    to: dateRange.to,\n                    categoryId: selectedGroup?.groupId,\n                });\n\n                setData(response);\n            } catch (error) {\n                console.log('error', error);\n            } finally {\n                setLoading(false);\n            }\n        }\n    };\n\n    return (\n        <div>\n            <div className='d-flex justify-content-center w-100'>\n                <div className='d-flex align-items-center mb-2 gap-3'>\n                    <span className='text-white'>Categoría</span>\n                    <GroupSearch onSelect={setSelectedGroup} />\n                </div>\n            </div>\n            <div>\n                <DatePicker onSubmit={onDateChange} loading={loading} submitDisabled={!selectedGroup} />\n            </div>\n\n            <div className='d-flex flex-column flex-lg-row justify-content-center align-items-center gap-5 mt-5'>\n                <div className='w-100'>\n                    <SaleReportCard\n                        data={filteredData?.length ? filteredData : data}\n                        loading={loading}\n                        onFilter={onFilter}\n                    />\n                </div>\n                <div className='w-100'>\n                    <ProductChart chartData={chartData} loading={loading} />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Categories;\n","const BASE_URL = '/api/currency_rates';\n\nexport const fetchCurrencyRates = async () => {\n  const response = await fetch(`${BASE_URL}`);\n  const data = await response.json();\n\n  return { status: response.status, data };\n};\n","import { useEffect, useContext } from 'react';\n\nimport { CurrencyRateContext } from './context/currency_rate';\n\nimport Navbar from 'react-bootstrap/Navbar';\nimport Container from 'react-bootstrap/Container';\nimport Nav from 'react-bootstrap/Nav';\n\nimport InvoicesPage from 'pages/invoices';\nimport VentasPage from 'pages/ventas';\nimport ClientesPage from 'pages/clientes';\nimport ProductosPage from 'pages/productos';\nimport EmployeesPage from 'pages/employees';\nimport CategoriesPage from './pages/categories';\n\nimport { Link, Switch, Route, useLocation } from 'react-router-dom';\nimport { fetchCurrencyRates } from './api/currency_rates';\n\nfunction App() {\n    const location = useLocation();\n\n    const { currencyRate, setCurrencyRate } = useContext(CurrencyRateContext);\n\n    useEffect(() => {\n        fetchCurrencyRates().then((response) => {\n            if (response.status === 200) {\n                setCurrencyRate(response.data.find((currency) => currency.Simbolo === 'BsS'));\n            }\n        });\n    }, []);\n\n    return (\n        <div className='App bg-dark'>\n            <Container fluid id='main' className='m-0 p-0 vh-100'>\n                <Navbar bg='dark' variant='dark' className='border-bottom' expand='lg'>\n                    <Container fluid>\n                        <Navbar.Brand>SISTEMA DE REPORTES</Navbar.Brand>\n\n                        <Navbar.Toggle aria-controls='basic-navbar-nav' />\n                        <Navbar.Collapse id='basic-navbar-nav'>\n                            <Container fluid className='d-flex justify-content-between align-items-center'>\n                                <Nav className='me-auto'>\n                                    {['facturas', 'ventas', 'clientes', 'productos', 'vendedores', 'categorias'].map(\n                                        (route, index) => {\n                                            return (\n                                                <Link\n                                                    key={index}\n                                                    to={`/${route}`}\n                                                    className={`text-decoration-none mx-1 text-secondary nav-link ${\n                                                        (location.pathname.includes(route) && 'active') || ''\n                                                    }`}\n                                                >\n                                                    <span style={{ textTransform: 'capitalize' }}>{route}</span>\n                                                </Link>\n                                            );\n                                        }\n                                    )}\n                                </Nav>\n                                <div className='text-light'>\n                                    <span>\n                                        REF: <span className='fw-bold text-info'>{currencyRate?.Cambio}</span>{' '}\n                                        {currencyRate?.Simbolo}\n                                    </span>\n                                </div>\n                            </Container>\n                        </Navbar.Collapse>\n                    </Container>\n                </Navbar>\n\n                <Container fluid className='py-3'>\n                    <Switch>\n                        <Route path='/categorias' component={CategoriesPage} />\n                        <Route path='/facturas' component={InvoicesPage} />\n                        <Route path='/ventas' component={VentasPage} />\n                        <Route path='/clientes' component={ClientesPage} />\n                        <Route path='/productos' component={ProductosPage} />\n                        <Route path='/vendedores' component={EmployeesPage} />\n                    </Switch>\n                </Container>\n            </Container>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport { CurrencyRateProvider } from './context/currency_rate';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <CurrencyRateProvider>\n        <App />\n      </CurrencyRateProvider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}