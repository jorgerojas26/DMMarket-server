{"version":3,"sources":["components/Table/index.js","components/SaleReportTable/columns.js","components/SaleReportTable/index.js","components/ClientReportTable/columns.js","components/ClientReportTable/index.js","api/invoice/index.js","components/Cards/SaleReport/index.js","components/Cards/ClientReport/index.js","components/SearchInput/index.js","api/products/index.js","components/ProductSearch/index.js","components/Cards/CostFluctuation/index.js","hooks/useReportFilter.js","components/Cards/ClientRegistration/index.js","api/groups/index.js","components/GroupSearch/index.js","components/PriceListTable/columns.js","components/PriceListTable/index.js","components/Cards/GroupStock/index.js","App.js","index.js"],"names":["Table","data","loading","columns","filterPlaceholder","onFilter","maxheight","showFooter","onRowSelect","useTable","stateReducer","newState","action","type","selectedRowIds","id","isSelected","useRowSelect","getTableProps","getTableBodyProps","headerGroups","footerGroups","rows","prepareRow","onFilterDebounced","selectedFlatRows","debounce","value","className","onChange","event","target","placeholder","autoFocus","map","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","render","row","getRowProps","onClick","toggleRowSelected","getToggleRowSelectedProps","cells","cell","index","title","getCellProps","style","background","group","getFooterGroupProps","getFooterProps","length","Header","accessor","Cell","toLocaleString","Footer","total","reduce","acc","current","rawProfit","Number","toFixed","netProfit","SaleReportTable","memoizedColumns","useMemo","ClientReportTable","fetchInvoiceReport","a","from","to","fetch","response","json","report","console","log","SaleReportCard","useState","sorting","setSorting","sortedData","setSortedData","useEffect","sorted","sort","b","ClientReportCard","SearchInput","loadOptions","defaultOptions","cacheOptions","onSelect","inputValue","callback","loadingMessage","isClearable","BASE_URL","fetchProducts","filter","filterParam","products","fetchProductPriceList","groupId","fetchProductReports","productId","ProductSearch","loadProductVariants","records","record","product_name","Descripcion","key","label","option","CostFluctuation","selectedProduct","setSelectedProduct","setData","fetch_product_report","idProducto","report_data","height","margin","top","right","bottom","left","xScale","yScale","min","max","stacked","reverse","axisTop","axisRight","pointSize","pointColor","theme","pointBorderWidth","pointBorderColor","pointLabelYOffset","useMesh","useReportFilter","data_to_filter","initial_state","filteredData","setFilteredData","filterValue","filterKey","nestedKey","nestedFilter","filtered","r","toLowerCase","includes","ClientRegistration","fetchGroups","groups","GroupSearch","loadGroups","name","width","PriceListTable","GroupStock","selectedGroup","setSelectedGroup","fetch_stock_by_group","display","justifyContent","gap","App","DateTime","now","toISODate","dateRange","setDateRange","sale_report","categories_report","client_report","new_clients_report","reportDetails","setReportDetails","buy_price_fluctuation","chartData","setChartData","onSubmit","preventDefault","categories_report_chart_data","categoria","client_report_chart_data","client","total_USD","SaleReport","ClientReport","innerRadius","padAngle","cornerRadius","activeOuterRadiusOffset","arcLabel","e","borderWidth","borderColor","modifiers","arcLinkLabelsSkipAngle","arcLinkLabelsTextColor","arcLinkLabelsThickness","arcLinkLabelsColor","arcLabelsSkipAngle","arcLabelsTextColor","tooltip","datum","color","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.745dd64c.chunk.js","sourcesContent":["import { useTable, useRowSelect } from 'react-table';\r\n\r\nimport debounce from 'lodash.debounce';\r\n\r\nconst Table = ({ data = [], loading, columns = [], filterPlaceholder, onFilter, maxheight, showFooter = false, onRowSelect }) => {\r\n  const { getTableProps, getTableBodyProps, headerGroups, footerGroups, rows, prepareRow, selectedFlatRows } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      stateReducer: (newState, action) => {\r\n        if (action.type === 'toggleRowSelected') {\r\n          newState.selectedRowIds = {\r\n            [action.id]: !action.isSelected,\r\n          };\r\n        }\r\n\r\n        return newState;\r\n      },\r\n    },\r\n    useRowSelect\r\n  );\r\n\r\n  const onFilterDebounced = debounce((value) => {\r\n    onFilter(value);\r\n  }, 500);\r\n\r\n  return (\r\n    <>\r\n      {onFilter && (\r\n        <div className='table-filter-container'>\r\n          <input\r\n            className='table-filter-input'\r\n            onChange={(event) => onFilterDebounced(event.target.value)}\r\n            placeholder={filterPlaceholder}\r\n            autoFocus\r\n          />\r\n        </div>\r\n      )}\r\n      <div className='table-container' maxheight={maxheight}>\r\n        <table {...getTableProps()}>\r\n          <thead>\r\n            {headerGroups.map((headerGroup) => (\r\n              <tr {...headerGroup.getHeaderGroupProps()}>\r\n                {headerGroup.headers.map((column) => (\r\n                  <th {...column.getHeaderProps()}>{column.render('Header')}</th>\r\n                ))}\r\n              </tr>\r\n            ))}\r\n          </thead>\r\n          <tbody {...getTableBodyProps()}>\r\n            {rows.map((row) => {\r\n              prepareRow(row);\r\n              return (\r\n                <tr\r\n                  {...row.getRowProps({\r\n                    onClick: onRowSelect\r\n                      ? () => {\r\n                          row.toggleRowSelected();\r\n                          onRowSelect();\r\n                        }\r\n                      : null,\r\n                  })}\r\n                  {...row.getToggleRowSelectedProps({})}\r\n                >\r\n                  {row.cells.map((cell, index) => {\r\n                    return (\r\n                      <td title={cell.value} {...cell.getCellProps()} style={{ background: row.isSelected ? 'lightgreen' : 'white' }}>\r\n                        {cell.render('Cell')}\r\n                      </td>\r\n                    );\r\n                  })}\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n          {showFooter && (\r\n            <tfoot>\r\n              {footerGroups.map((group) => (\r\n                <tr {...group.getFooterGroupProps()}>\r\n                  {group.headers.map((column) => (\r\n                    <td {...column.getFooterProps()}>{column.render('Footer')}</td>\r\n                  ))}\r\n                </tr>\r\n              ))}\r\n            </tfoot>\r\n          )}\r\n        </table>\r\n      </div>\r\n      {loading && (\r\n        <div className='loading-container' data={data.length ? 1 : 0}>\r\n          Cargando...\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","const columns = [\r\n  {\r\n    Header: 'Producto',\r\n    accessor: 'product',\r\n  },\r\n  {\r\n    Header: 'Cantidad',\r\n    accessor: 'quantity',\r\n  },\r\n  {\r\n    Header: 'Bruto',\r\n    accessor: 'rawProfit',\r\n    Cell: ({ value }) => {\r\n      return value ? '$' + value.toLocaleString() : '';\r\n    },\r\n    Footer: ({ data }) => {\r\n      const total = data.reduce((acc, current) => {\r\n        return acc + current.rawProfit;\r\n      }, 0);\r\n      return '$' + Number(total.toFixed(2)).toLocaleString();\r\n    },\r\n  },\r\n  {\r\n    Header: 'Utilidad',\r\n    accessor: 'netProfit',\r\n    Cell: ({ value }) => {\r\n      return value ? '$' + value.toLocaleString() : '';\r\n    },\r\n    Footer: ({ data }) => {\r\n      const total = data.reduce((acc, current) => {\r\n        return acc + current.netProfit;\r\n      }, 0);\r\n      return '$' + Number(total.toFixed(2)).toLocaleString();\r\n    },\r\n  },\r\n  {\r\n    Header: 'Promedio',\r\n    accessor: 'averageProfitPercent',\r\n    Cell: ({ value }) => {\r\n      return value + '%';\r\n    },\r\n  },\r\n];\r\n\r\nexport default columns;\r\n","import { useMemo } from 'react';\r\nimport Table from '../Table';\r\nimport columns from './columns';\r\n\r\nconst SaleReportTable = ({ data }) => {\r\n  const memoizedColumns = useMemo(() => columns);\r\n\r\n  return <Table data={data} columns={memoizedColumns} showFooter />;\r\n};\r\n\r\nexport default SaleReportTable;\r\n","const columns = [\r\n  {\r\n    Header: 'Cliente',\r\n    accessor: 'client',\r\n  },\r\n  {\r\n    Header: 'Total',\r\n    accessor: 'total_USD',\r\n    Cell: ({ value }) => {\r\n      return '$' + value.toLocaleString();\r\n    },\r\n  },\r\n];\r\n\r\nexport default columns;\r\n","import { useMemo } from 'react';\r\nimport Table from '../Table';\r\nimport columns from './columns';\r\n\r\nconst ClientReportTable = ({ data }) => {\r\n  const memoizedColumns = useMemo(() => columns);\r\n\r\n  return <Table data={data} columns={memoizedColumns} />;\r\n};\r\n\r\nexport default ClientReportTable;\r\n","const BASE_URL = '/api/reports/invoice';\r\n\r\nexport const fetchInvoiceReport = async ({ from, to }) => {\r\n  const response = await fetch(`${BASE_URL}?from=${from}&to=${to}`);\r\n  const report = await response.json();\r\n  console.log('From fetchInvoiceReport: ', report);\r\n  return report;\r\n};\r\n","import { useEffect, useState } from 'react';\r\nimport SaleReportTable from '../../SaleReportTable';\r\n\r\nconst SaleReportCard = ({ data = [], onFilter }) => {\r\n  const [sorting, setSorting] = useState('rawProfit');\r\n  const [sortedData, setSortedData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const sorted = data.sort((a, b) => {\r\n      return b[sorting] - a[sorting];\r\n    });\r\n    setSortedData([...sorted]);\r\n  }, [sorting, data]);\r\n\r\n  return (\r\n    <div className='card'>\r\n      <div className='card-header'>\r\n        <h2>Ventas</h2>\r\n        <div>\r\n          <label>Ordenar: </label>\r\n          <select onChange={(event) => setSorting(event.target.value)} value={sorting}>\r\n            <option value='quantity'>Cantidad</option>\r\n            <option value='rawProfit'>Bruto</option>\r\n            <option value='netProfit'>Utilidad</option>\r\n            <option value='averageProfitPercent'>Promedio</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div className='card-body'>\r\n        {sortedData.length > 0 && (\r\n          <>\r\n            <input\r\n              className='input-filter'\r\n              placeholder='Buscar...'\r\n              type='search'\r\n              onChange={(event) => onFilter(event.target.value, 'product', 'sale_report')}\r\n            />\r\n            <SaleReportTable data={sortedData} />\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SaleReportCard;\r\n","import ClientReportTable from '../../ClientReportTable';\r\n\r\nconst ClientReportCard = ({ data = [], onFilter }) => {\r\n  return (\r\n    <div className='card'>\r\n      <div className='card-header'>\r\n        <h2>Clientes</h2>\r\n      </div>\r\n      <div className='card-body'>\r\n        {data.length > 0 && (\r\n          <>\r\n            <input\r\n              className='input-filter'\r\n              placeholder='Buscar...'\r\n              type='search'\r\n              onChange={(event) => onFilter(event.target.value, 'client', 'client_report')}\r\n            />\r\n            <ClientReportTable data={data} />\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClientReportCard;\r\n","import AsyncSelect from 'react-select/async';\r\nimport debounce from 'debounce-promise';\r\n\r\nconst SearchInput = ({ placeholder, loadOptions, defaultOptions = true, cacheOptions = true, onSelect }) => {\r\n  return (\r\n    <AsyncSelect\r\n      loadOptions={debounce((inputValue, callback) => loadOptions(inputValue, callback), 700)}\r\n      cacheOptions={cacheOptions}\r\n      defaultOptions={defaultOptions}\r\n      placeholder={placeholder}\r\n      onChange={onSelect}\r\n      loadingMessage={() => {\r\n        return 'Cargando...';\r\n      }}\r\n      isClearable\r\n    />\r\n  );\r\n};\r\n\r\nexport default SearchInput;\r\n","const BASE_URL = '/api/products';\r\nconst REPORTS_BASE_URL = '/api/reports/products';\r\n\r\nexport const fetchProducts = async ({ filter }) => {\r\n  const filterParam = filter ? `?filter=${filter}` : '';\r\n  const response = await fetch(BASE_URL + filterParam);\r\n  const products = await response.json();\r\n  return products;\r\n};\r\n\r\nexport const fetchProductPriceList = async (groupId) => {\r\n  const response = await fetch(`${BASE_URL}/price-list/${groupId}`);\r\n  const report = response.json();\r\n  return report;\r\n};\r\n\r\nexport const fetchProductReports = async (productId) => {\r\n  const response = await fetch(`${REPORTS_BASE_URL}/cost-fluctuation/${productId}`);\r\n  const report = response.json();\r\n  return report;\r\n};\r\n","import SearchInput from '../SearchInput';\r\nimport { fetchProducts } from '../../api/products';\r\n\r\nconst ProductSearch = ({ onSelect }) => {\r\n  const loadProductVariants = async (inputValue) => {\r\n    let products = await fetchProducts({ filter: inputValue });\r\n\r\n    if (products && products.length > 0) {\r\n      const records = products.map((record) => {\r\n        let product_name = record.Descripcion;\r\n\r\n        const product = {\r\n          key: record.id,\r\n          label: product_name,\r\n          value: record,\r\n        };\r\n        return product;\r\n      });\r\n\r\n      return records;\r\n    }\r\n  };\r\n\r\n  const handleSelect = (option, { action }) => {\r\n    if (action === 'select-option') {\r\n      onSelect(option.value, action);\r\n    } else if (action === 'clear') {\r\n      onSelect(null, action);\r\n    }\r\n  };\r\n\r\n  return <SearchInput loadOptions={loadProductVariants} defaultOptions={false} placeholder='Buscar producto...' onSelect={handleSelect} />;\r\n};\r\n\r\nexport default ProductSearch;\r\n","import { useState, useEffect } from 'react';\r\nimport ProductSearch from '../../ProductSearch';\r\nimport { ResponsiveLine } from '@nivo/line';\r\nimport { fetchProductReports } from '../../../api/products';\r\n\r\nconst CostFluctuation = () => {\r\n  const [selectedProduct, setSelectedProduct] = useState(null);\r\n  const [data, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (selectedProduct) {\r\n      const fetch_product_report = async () => {\r\n        const report_data = await fetchProductReports(selectedProduct.idProducto);\r\n        console.log(report_data);\r\n\r\n        setData([report_data]);\r\n      };\r\n\r\n      fetch_product_report();\r\n    } else if (!selectedProduct) {\r\n      setData([]);\r\n    }\r\n  }, [selectedProduct]);\r\n\r\n  return (\r\n    <div className='card'>\r\n      <div className='card-header'>\r\n        <h2>Promedio mensual costo</h2>\r\n      </div>\r\n      <div className='card-body'></div>\r\n      <ProductSearch onSelect={setSelectedProduct} />\r\n      <div style={{ height: '300px' }}>\r\n        <ResponsiveLine\r\n          data={data}\r\n          margin={{ top: 50, right: 50, bottom: 50, left: 60 }}\r\n          xScale={{ type: 'point' }}\r\n          yScale={{ type: 'linear', min: 'auto', max: 'auto', stacked: true, reverse: false }}\r\n          axisTop={null}\r\n          axisRight={null}\r\n          pointSize={10}\r\n          pointColor={{ theme: 'background' }}\r\n          pointBorderWidth={2}\r\n          pointBorderColor={{ from: 'serieColor' }}\r\n          pointLabelYOffset={-12}\r\n          useMesh={true}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CostFluctuation;\r\n","import { useState } from 'react';\r\nimport debounce from 'lodash.debounce';\r\n\r\nexport const useReportFilter = (data_to_filter, initial_state = []) => {\r\n  const [filteredData, setFilteredData] = useState(initial_state);\r\n\r\n  const onFilterDebounced = debounce((filterValue, filterKey, nestedKey) => {\r\n    if (nestedKey) {\r\n      nestedFilter(filterValue, filterKey, nestedKey);\r\n    } else {\r\n      filter(filterValue, filterKey);\r\n    }\r\n  }, 500);\r\n\r\n  const filter = (filterValue, filterKey) => {\r\n    const filtered = data_to_filter.filter((r) => r[filterKey].toLowerCase().includes(filterValue.toLowerCase()));\r\n    setFilteredData(filtered);\r\n  };\r\n\r\n  const nestedFilter = (filterValue, filterKey, nestedKey) => {\r\n    console.log('nestedKLey', nestedKey);\r\n    const filtered = data_to_filter[nestedKey].filter((r) => r[filterKey].toLowerCase().includes(filterValue.toLowerCase()));\r\n    setFilteredData({ ...filteredData, [nestedKey]: filtered });\r\n  };\r\n\r\n  return {\r\n    filteredData,\r\n    setFilteredData,\r\n    onFilterDebounced,\r\n  };\r\n};\r\n","import ClientReportTable from '../../ClientReportTable';\r\n\r\nconst ClientRegistration = ({ data = [], onFilter = () => {} }) => {\r\n  return (\r\n    <div className='card'>\r\n      <div className='card-header'>\r\n        <h2>Nuevos clientes</h2>\r\n      </div>\r\n      <div className='card-body'>\r\n        {data.length > 0 && (\r\n          <>\r\n            <input\r\n              className='input-filter'\r\n              placeholder='Buscar...'\r\n              type='search'\r\n              onChange={(event) => onFilter(event.target.value, 'client_report', 'client')}\r\n            />\r\n            <ClientReportTable data={data} />\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClientRegistration;\r\n","const BASE_URL = '/api/groups';\r\n\r\nexport const fetchGroups = async ({ filter }) => {\r\n  const filterParam = filter ? `?filter=${filter}` : '';\r\n  const response = await fetch(BASE_URL + filterParam);\r\n  const groups = await response.json();\r\n  return groups;\r\n};\r\n","import SearchInput from '../SearchInput';\r\nimport { fetchGroups } from '../../api/groups';\r\n\r\nconst GroupSearch = ({ onSelect }) => {\r\n  const loadGroups = async (inputValue) => {\r\n    let groups = await fetchGroups({ filter: inputValue });\r\n\r\n    if (groups && groups.length > 0) {\r\n      const records = groups.map((record) => {\r\n        const group = {\r\n          key: record.groupId,\r\n          label: record.name,\r\n          value: record,\r\n        };\r\n        return group;\r\n      });\r\n\r\n      return records;\r\n    }\r\n  };\r\n\r\n  const handleSelect = (option, { action }) => {\r\n    if (action === 'select-option') {\r\n      onSelect(option.value, action);\r\n    } else if (action === 'clear') {\r\n      onSelect(null, action);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: '100%' }}>\r\n      <SearchInput loadOptions={loadGroups} placeholder='Buscar categoría...' onSelect={handleSelect} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GroupSearch;\r\n","const columns = [\r\n  {\r\n    Header: 'Producto',\r\n    accessor: 'product',\r\n  },\r\n  {\r\n    Header: 'Precio',\r\n    accessor: 'price',\r\n  },\r\n  {\r\n    Header: 'Inventario',\r\n    accessor: 'stock',\r\n  },\r\n];\r\n\r\nexport default columns;\r\n","import { useMemo } from 'react';\r\nimport Table from '../Table';\r\nimport columns from './columns';\r\n\r\nconst PriceListTable = ({ data }) => {\r\n  const memoizedColumns = useMemo(() => columns);\r\n\r\n  return <Table data={data} columns={memoizedColumns} />;\r\n};\r\n\r\nexport default PriceListTable;\r\n","import { useState, useEffect } from 'react';\r\nimport GroupSearch from '../../GroupSearch';\r\nimport { fetchProductPriceList } from '../../../api/products';\r\nimport PriceListTable from '../../PriceListTable';\r\nimport { useReportFilter } from '../../../hooks/useReportFilter';\r\n\r\nconst GroupStock = ({ onFilter }) => {\r\n  const [selectedGroup, setSelectedGroup] = useState(null);\r\n  const [data, setData] = useState([]);\r\n  const { filteredData, onFilterDebounced } = useReportFilter(data);\r\n\r\n  useEffect(() => {\r\n    if (selectedGroup) {\r\n      const fetch_stock_by_group = async () => {\r\n        const data = await fetchProductPriceList(selectedGroup.groupId);\r\n        setData(data);\r\n      };\r\n\r\n      fetch_stock_by_group();\r\n    } else if (!selectedGroup) {\r\n      setData([]);\r\n    }\r\n  }, [selectedGroup]);\r\n\r\n  return (\r\n    <div className='card'>\r\n      <div className='card-header'>\r\n        <h2>Lista de precio por categoría</h2>\r\n      </div>\r\n      <div className='card-body'></div>\r\n      <div style={{ height: '300px' }}>\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', gap: '40%' }}>\r\n          <GroupSearch onSelect={setSelectedGroup} />\r\n\r\n          <input\r\n            className='input-filter'\r\n            placeholder='Buscar...'\r\n            type='search'\r\n            onChange={(event) => onFilterDebounced(event.target.value, 'product')}\r\n          />\r\n        </div>\r\n        <PriceListTable data={filteredData.length > 0 ? filteredData : data} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GroupStock;\r\n","import { useState, useEffect, useMemo } from 'react';\n\nimport SaleReportTable from './components/SaleReportTable';\nimport ClientReportTable from './components/ClientReportTable';\n\nimport { DateTime } from 'luxon';\n\nimport { fetchInvoiceReport } from './api/invoice';\n\nimport { ResponsivePie } from '@nivo/pie';\n\nimport SaleReportCard from './components/Cards/SaleReport';\nimport ClientReportCard from './components/Cards/ClientReport';\nimport CostFluctuation from './components/Cards/CostFluctuation';\n\nimport { useReportFilter } from './hooks/useReportFilter';\nimport ClientRegistration from './components/Cards/ClientRegistration';\nimport GroupStock from './components/Cards/GroupStock';\n\nfunction App() {\n  const [dateRange, setDateRange] = useState({\n    from: DateTime.now().toISODate(),\n    to: DateTime.now().toISODate(),\n  });\n  const [reportDetails, setReportDetails] = useState({\n    sale_report: [],\n    categories_report: [],\n    client_report: [],\n    new_clients_report: [],\n  });\n  const [chartData, setChartData] = useState({\n    sale_report: [],\n    categories_report: [],\n    client_report: [],\n    buy_price_fluctuation: [],\n    new_clients_report: [],\n  });\n\n  const { filteredData, onFilterDebounced } = useReportFilter(reportDetails, {\n    sale_report: [],\n    categories_report: [],\n    client_report: [],\n    new_clients_report: [],\n  });\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n\n    const response = await fetchInvoiceReport(dateRange);\n    setReportDetails({ ...response });\n  };\n\n  useEffect(() => {\n    const categories_report_chart_data = reportDetails.categories_report.reduce((acc, current) => {\n      return [...acc, { id: current.categoria, label: current.categoria, value: current.rawProfit, netProfit: current.netProfit }];\n    }, []);\n\n    const client_report_chart_data = reportDetails.client_report.reduce((acc, current) => {\n      return [...acc, { id: current.client, label: current.client, value: current.total_USD }];\n    }, []);\n\n    setChartData({ ...chartData, categories_report: categories_report_chart_data, client_report: client_report_chart_data });\n  }, [reportDetails]);\n\n  return (\n    <div className='App'>\n      <div id='date-range-wrapper'>\n        <div id='date-range-container'>\n          <label>Desde:</label>\n          <input type='date' value={dateRange.from} onChange={(event) => setDateRange({ ...dateRange, from: event.target.value })} />\n          <label>Hasta:</label>\n          <input type='date' value={dateRange.to} onChange={(event) => setDateRange({ ...dateRange, to: event.target.value })} />\n          <input type='submit' onClick={onSubmit} />\n        </div>\n      </div>\n      <main id='main'>\n        <div id='left-content'>\n          <SaleReportCard\n            data={filteredData.sale_report.length ? filteredData.sale_report : reportDetails.sale_report}\n            onFilter={onFilterDebounced}\n          />\n          <ClientReportCard\n            data={filteredData.client_report.length ? filteredData.client_report : reportDetails.client_report}\n            onFilter={(filterValue, filterKey) => onFilterDebounced(filterValue, filterKey)}\n          />\n          <CostFluctuation />\n          <ClientRegistration\n            data={filteredData.new_clients_report.length ? filteredData.new_clients_report : reportDetails.new_clients_report}\n            onFilter={onFilterDebounced}\n          />\n          <GroupStock />\n        </div>\n        <div id='right-content'>\n          <div className='card'>\n            <div className='card-header'>\n              <h2>Gráfico de categorías</h2>\n            </div>\n            <div className='card-body'>\n              {chartData.categories_report.length > 0 && (\n                <div style={{ height: '300px' }}>\n                  <ResponsivePie\n                    data={chartData.categories_report}\n                    margin={{ top: 30, right: 20, bottom: 20, left: 20 }}\n                    innerRadius={0.5}\n                    padAngle={0.7}\n                    cornerRadius={3}\n                    activeOuterRadiusOffset={8}\n                    arcLabel={function (e) {\n                      return `${e.value} (${e.data.netProfit})`;\n                    }}\n                    borderWidth={1}\n                    borderColor={{ from: 'color', modifiers: [['darker', 0.2]] }}\n                    arcLinkLabelsSkipAngle={10}\n                    arcLinkLabelsTextColor='#333333'\n                    arcLinkLabelsThickness={2}\n                    arcLinkLabelsColor={{ from: 'color' }}\n                    arcLabelsSkipAngle={10}\n                    arcLabelsTextColor={{ from: 'color', modifiers: [['darker', 2]] }}\n                    tooltip={({ datum }) => {\n                      return (\n                        <div className='tooltip-container'>\n                          <span className='small-square' style={{ background: datum.color }}></span>\n                          <strong>{datum.label}</strong>\n                          <label>Bruto: </label>\n                          <span>${Number(datum.value).toLocaleString()}</span>\n                          <label>Utilidad: </label>\n                          <span>${Number(datum.data.netProfit).toLocaleString()}</span>\n                        </div>\n                      );\n                    }}\n                  />\n                </div>\n              )}\n            </div>\n          </div>\n          <div className='card'>\n            <div className='card-header'>\n              <h2>Gráfico de clientes</h2>\n            </div>\n            <div className='card-body'>\n              {chartData.client_report.length > 0 && (\n                <div style={{ height: '300px' }}>\n                  <ResponsivePie\n                    data={chartData.client_report}\n                    margin={{ top: 30, right: 20, bottom: 20, left: 20 }}\n                    innerRadius={0.5}\n                    padAngle={0.7}\n                    cornerRadius={3}\n                    activeOuterRadiusOffset={8}\n                    borderWidth={1}\n                    borderColor={{ from: 'color', modifiers: [['darker', 0.2]] }}\n                    arcLinkLabelsSkipAngle={10}\n                    arcLinkLabelsTextColor='#333333'\n                    arcLinkLabelsThickness={2}\n                    arcLinkLabelsColor={{ from: 'color' }}\n                    arcLabelsSkipAngle={10}\n                    arcLabelsTextColor={{ from: 'color', modifiers: [['darker', 2]] }}\n                  />\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}